{"version":3,"sources":["../../theme/dist/index.esm.js","../../core/dist/index.esm.js","ThemeContext.tsx","components/Root/ToggleThemeSidebarItem.tsx","components/Root/Root.tsx","components/AlertDisplay/AlertDisplay.tsx","../../../plugins/home-page/dist/index.esm.js","../../../plugins/welcome/dist/index.esm.js","../../../plugins/lighthouse/dist/index.esm.js","../../../plugins/inventory/dist/index.esm.js","../../../plugins/scaffolder/dist/index.esm.js","../../../plugins/tech-radar/dist/index.esm.js","../../../plugins/explore/dist/index.esm.js","../../../plugins/services/dist/index.esm.js","apis.ts","App.tsx","index.tsx"],"names":["createTheme","palette","themeOptions","props","MuiGrid","spacing","MuiSwitch","color","typography","fontFamily","h5","fontWeight","h4","fontSize","marginBottom","h3","h2","h1","createThemeOptions","baseTheme","createMuiTheme","overrides","theme","MuiCssBaseline","html","height","body","a","textDecoration","MuiTableRow","root","backgroundColor","background","default","hover","cursor","head","paper","MuiTableCell","wordBreak","overflow","verticalAlign","lineHeight","margin","padding","borderBottom","MuiTabs","minHeight","MuiTab","link","textTransform","darken","lighten","breakpoints","up","minWidth","pxToRem","textColorPrimary","MuiTableSortLabel","active","MuiListItemText","dense","whiteSpace","textOverflow","MuiButton","text","undefined","MuiChip","marginRight","MuiCardHeader","paddingBottom","MuiCardActions","justifyContent","createThemeOverrides","type","status","ok","warning","error","running","pending","bursts","fontColor","slackChannelText","primary","main","blue","border","textContrast","textVerySubtle","textSubtle","highlight","errorBackground","warningBackground","infoBackground","errorText","infoText","warningText","linkHover","gold","yellow","A700","sidebar","FeatureFlagState","rokuLightTheme","deepPurple","rokuDarkTheme","ApiRef","config","this","id","match","Error","description","Context","createContext","AppContextProvider","app","children","React","createElement","Provider","value","featureFlagsApiRef","useStyles","makeStyles","micDrop","maxWidth","bottom","right","position","MicDrop","classes","className","width","viewBox","fill","xmlns","fillRule","clipRule","d","stroke","cx","cy","r","transform","x","y","rx","strokeWidth","strokeLinecap","strokeDasharray","useStyles$1","makeStyles$1","container","title","subtitle","ErrorPage","statusMessage","history","Grid","item","xs","sm","Typography","variant","Link","onClick","goBack","href","defaultSystemIcons","user","PersonIcon","group","PeopleIcon","Context$1","ApiProvider","apis","useApi","apiRef","apiHolder","useContext","api","get","propTypes","PropTypes","shape","func","isRequired","node","ApiRegistryBuilder","impl","push","ApiRegistry","Map","AuthType","alertApiRef","errorApiRef","AlertApiForwarder","subscribers","Set","alert","forEach","subscriber","add","delete","ErrorApiForwarder","alertApi","context","hidden","post","message","severity","gradients","colors","darkBlue","brown","green","orangeYellow","redOrange","pinkOrange","purpleBlue","tealGreen","violetPeach","violetGreen","purple","eveningSea","royalBlue","grey","sunset","sky","teal","pageTheme","home","gradient","documentation","tool","Theme","useStyles$2","display","gridTemplateAreas","gridTemplateRows","gridTemplateColumns","Page","useStyles$3","wave","top","left","zIndex","Waves","color1","color2","preserveAspectRatio","opacity","maskUnits","mask","x1","y1","x2","y2","gradientUnits","stopColor","stopOpacity","offset","useStyles$4","header","gridArea","boxShadow","flexDirection","flexWrap","alignItems","leftItemsBox","flex","rightItemsBox","TypeFragment","typeLink","TitleFragment","pageTitle","tooltip","FinalTitle","Tooltip","placement","SubtitleFragment","Fragment","Header","pageTitleOverride","style","documentTitle","titleTemplate","defaultTitle","Helmet","Consumer","useStyles$5","paddingTop","mixins","gutters","stretch","flexGrow","noPadding","Content","Object","assign","classNames","useStyles$6","marginLeft","DefaultTitle","ContentHeader","titleComponent","TitleComponent","renderedTitle","ErrorBoundary","state","errorInfo","console","setState","slackChannel","Error$1","Component","useStyles$7","boxTitle","arrow","BottomLink","Divider","underline","ListItem","ListItemText","Box","m","ListItemIcon","ArrowIcon","useStyles$8","BoldHeader","withStyles","subheader","CardHeader","CardActionsTopRight","float","CardActions","VARIANT_STYLES","card","fullHeight","height100","contentheader","contentheadertabs","noShrink","flexShrink","minheight300","cardContent","contentRow","InfoCard","divider","deepLink","headerStyle","headerProps","actionsClassName","actions","cardClassName","actionsTopRight","calculatedStyle","calculatedCardStyle","split","name","Card","CardContent","LoginPage","useState","String","githubUsername","setGithubUsername","githubPersonalAuthToken","setGithubPersonalAuthToken","loginDetails","setLoginDetails","deleteGithubInfo","localStorage","removeItem","handleTokenRegistration","event","target","fetchGitHubToken","username","token","fetch","headers","Headers","Authorization","btoa","then","response","json","statusText","data","info","setItem","JSON","stringify","saveGithubInfo","login","catch","ls","getItem","obj","parse","component","GitHub","List","TextField","label","onChange","Button","validateUsernameAndToken","authenticate","AppImpl","systemIcons","key","AppBuilder","plugins","icons","plugin","p","has","routes","Array","registeredFeatureFlags","values","output","path","options","exact","Route","Redirect","to","pluginId","getId","FeatureFlags","rendered","Switch","render","validateBrowserCompat","window","validateFlagName","length","UserFlags","Off","save","toObject","from","entries","reduce","toJSON","jsonString","err","FeatureFlagsRegistry","entry","_concat","userFlags","load","Plugin","storedOutput","register","outputs","router","registerRoute","registerRedirect","featureFlags","createPlugin","State","useStyles$9","textAlign","letterSpacing","HeaderLabelContent","HeaderLabel","url","content","sidebarConfig","indicator","selected","SidebarContext","useStyles$a","drawer","flexFlow","overflowX","transition","transitions","create","easing","sharp","duration","shortest","drawerOpen","shorter","drawerPeek","Sidebar","openDelayMs","closeDelayMs","Closed","hoverTimerRef","useRef","handleOpen","current","clearTimeout","Open","setTimeout","Peek","handleClose","onMouseEnter","onFocus","onMouseLeave","onBlur","clsx","useStyles$b","paddingLeft","SidebarPage","useStyles$c","closed","open","iconContainer","SidebarItem","Icon","icon","SidebarSpace","styled","SidebarSpacer","SidebarDivider","generateGradientStops","themeType","luminance","useStyles$d","scrollbarWidth","fade","pointerEvents","fadeLeft","fadeRight","fadeHidden","button","buttonLeft","buttonRight","HorizontalScrollGrid","scrollStep","scrollSpeed","minScrollDistance","otherProps","ref","scrollLeft","scrollRight","setScroll","useLayoutEffect","el","handleUpdate","scrollWidth","offsetWidth","addEventListener","removeEventListener","useScrollDistance","setScrollTarget","speed","minDistance","scrollTarget","startTime","performance","now","requestAnimationFrame","frameTime","frameDuration","scrollDistance","Math","abs","scrollAmount","max","sign","scrollBy","newScrollTarget","cancelAnimationFrame","useSmoothScroll","handleScrollClick","forwards","direction","wrap","IconButton","ChevronLeftIcon","ChevronRightIcon","useStyles$e","overlay","circle","colorUnknown","defaultProps","fractional","inverse","unit","getProgressColor","isNaN","actualMax","actualValue","CircleProgress","useTheme","asPercentage","round","asActual","Circle","percent","trailWidth","strokeColor","useStyles$f","ProgressCard","progress","string","number","Progress","isVisible","setIsVisible","useEffect","handle","LinearProgress","noop","useStyles$j","stepperLength","stepIndex","setStepIndex","stepHistory","setStepHistory","onStepChange","marginTop","end","alpha","fontStyle","beta","AlphaLabel","isShorthand","useStyles$k","leftIcon","popoverList","SupportButton","email","popoverOpen","setPopoverOpen","anchorEl","setAnchorEl","slackChannels","isArray","contactEmails","currentTarget","HelpIcon","Popover","anchorOrigin","vertical","horizontal","transformOrigin","onClose","Children","map","child","i","GroupIcon","secondary","channel","em","index","CellContent","DataTableCell","column","row","TableCell","align","numeric","noop$1","TitleCell","memo","columns","handleRowClick","TableRow","paddingRight","ContentCell","MetadataTable","Table","TableBody","MetadataTableItem","rest","colSpan","MetadataList","listStyle","MetadataListItem","listStyleType","nestedListStyle","toValue","nested","isValidElement","list","StyledNestedList","StyledList","renderList","keys","fmtKey","titleFormat","startCase","renderMap","ItemValue","TableItem","lastNum","Trendline","Sparklines","min","SparklinesLine","featureWrapper","backdrop","dot","borderRadius","animation","pulseCircle","useStyles$m","borderLeft","borderRight","StatusOK","StatusError","StatusPending","headerText","messageText","ThemeContext","toggleTheme","ToggleThemeSidebarItem","themeContext","ToggleOnIcon","Brightness2Icon","WbSunnyIcon","useSidebarLogoStyles","logoContainer","titleDot","SidebarLogo","isOpen","Root","HomeIcon","ExploreIcon","CreateComponentIcon","AccountTreeIcon","AccountCircle","AlertDisplay","forwarder","messages","setMessages","subscribe","msgs","concat","firstMessage","Snackbar","toString","Alert","action","size","filter","msg","data-testid","timeFormat","hour","minute","utcOptions","timeZone","nycOptions","tyoOptions","stoOptions","defaultTimes","timeNY","timeUTC","timeTYO","timeSTO","getTimes","Date","lang","navigator","language","toLocaleTimeString","HomePageTimer","setTimes","intervalId","setInterval","clearInterval","SquadTechHealth","STATIC_DATA","kind","HomePage","entity","profile","givenName","TableContainer","TableHead","ErrorButton","errorApi","ToggleFeatureFlagButton","flags","getFlags","flagState","newValue","On","set","location","reload","WelcomePage","md","gutterBottom","role","paragraph","Link$1","FetchError","constructor","resp","lighthouseApiRef","LighthouseRestApi","input","init","forResponse","limit","params","URLSearchParams","append","auditId","encodeURIComponent","payload","method","useQuery","useLocation","search","formatTime","timestamp","toUTCString","CATEGORIES","CATEGORY_LABELS","accessibility","seo","pwa","buildSparklinesDataForItem","audits","audit","scores","categories","category","unshift","score","arr","LighthouseSupportButton","tabs","tab","closeButtonContainer","closeButtonItem","GettingStartedCard","setValue","Tabs","indicatorColor","textColor","_ev","Tab","justify","Markdown","source","LighthouseIntro","onDismiss","useLocalStorage","dismissed","setDismissed","CloseIcon","AuditStatusIcon","table","statusCell","sparklinesCell","AuditRow","website","categorySparkline","lastAudit","TrendLine","toLowerCase","timeCreated","Audit","lighthouseApi","websiteState","setWebsiteState","sparklineState","setSparklineState","runRefresh","getWebsiteForAuditId","auditStatus","useInterval","AuditListTable","items","categorySparklines","useMemo","res","AuditList","dismissedStored","query","page","parseInt","useAsync","getWebsiteList","loading","pageCount","total","ceil","useHistory","Pagination","count","_event","newPage","replace","contentGrid","iframe","errorOutput","AuditLinkList","selectedId","AuditView","useParams","lighthouseUrl","src","ConnectedAuditView","nextValue","find","createAuditButtonUrl","buttonList","CreateAudit","submitting","setSubmitting","setUrl","emulatedFormFactor","setEmulatedFormFactor","triggerAudit","useCallback","lighthouseConfig","settings","onSubmit","ev","preventDefault","placeholder","helperText","required","disabled","inputProps","select","MenuItem","InventoryPage","ownerId","ScaffolderPage","ix","RING","idx","QUADRANT","ENTRY","quadrant","ring","moved","RadarGrid","radius","rings","axisNodes","axis","ringNodes","outerRadius","ringRadius","ringIndex","textAnchor","PureComponent","arrayOf","object","RadarGrid$1","userSelect","RadarEntry","blip","RadarEntry$1","RadarBubble","arguments","_setRect","rect","_setNode","_setText","_setPath","_updatePosition","bbox","getBBox","setAttribute","marginY","visible","visibleBubble","bubble","ry","bool","RadarBubble$1","RadarFooter","space","RadarFooter$1","RadarLegend","quadrants","onEntryMouseEnter","onEntryMouseLeave","segments","qidx","ridx","quadrantData","_renderQuadrant","legendX","legendY","legendWidth","legendHeight","quadrantHeading","_renderRing","_getSegment","ringHeading","ringList","entryLink","segmented","ringOffset","RadarLegend$1","breakInside","pageBreakInside","listStylePosition","fontVariantNumeric","RadarPlot","activeEntry","Segment","nextSeed","polarMin","t","radialMin","innerRadius","polarMax","radialMax","cartesianMin","offsetX","offsetY","cartesianMax","boundedRing","polar","boundedBox","cartesian","_randomBetween","_normalBetween","sin","floor","_random","atan2","sqrt","cos","boundedInterval","low","high","polarValue","rMin","rMax","point","Radar","xStops","yStops","legendParams","legendParam","PI","seed","q","segment","random","desaturate","simulation","forceSimulation","nodes","velocityDecay","force","forceCollide","strength","stop","n","log","alphaMin","alphaDecay","tick","clipx","clipy","adjustQuadrants","adjustRings","adjustEntries","svgProps","_setActiveEntry","_clearActiveEntry","techRadarApiRef","RadarPage","techRadarApi","useTechRadarLoader","additionalOpts","cardActions","media","mediaContain","backgroundSize","lifecycle","ga","domains","spaceBetween","ExploreCard","objectFit","image","newsTag","tags","CardMedia","Chip","gridGap","toolsCards","ExplorePluginPage","cache","InMemoryCache","HttpLink","uri","client","ApolloClient","version","queryDeduplication","defaultOptions","watchQuery","fetchPolicy","avatar","DenseTable","users","picture","medium","alt","first","last","nat","ExampleFetchComponent","gql","ApolloWrappedFetcher","ApolloProvider","ExampleComponent","builder","alertApiForwarder","errorApiForwarder","defaultAdditionalOpts","Promise","resolve","build","registerApis","registerPlugin","AppComponent","App","themeId","setTheme","matchMedia","mql","darkListener","matches","addListener","removeListener","useThemeType","backstageTheme","lightTheme","darkTheme","ThemeProvider","CssBaseline","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.3743bebe.chunk.js","sourcesContent":["import { createMuiTheme } from '@material-ui/core';\nimport { darken, lighten } from '@material-ui/core/styles/colorManipulator';\nimport { blue, yellow, deepPurple } from '@material-ui/core/colors';\n\nfunction createThemeOptions(palette) {\r\n    return {\r\n        palette,\r\n        props: {\r\n            MuiGrid: {\r\n                spacing: 2,\r\n            },\r\n            MuiSwitch: {\r\n                color: 'primary',\r\n            },\r\n        },\r\n        typography: {\r\n            fontFamily: '\"Helvetica Neue\", Helvetica, Roboto, Arial, sans-serif',\r\n            h5: {\r\n                fontWeight: 700,\r\n            },\r\n            h4: {\r\n                fontWeight: 700,\r\n                fontSize: 28,\r\n                marginBottom: 6,\r\n            },\r\n            h3: {\r\n                fontSize: 32,\r\n                fontWeight: 700,\r\n                marginBottom: 6,\r\n            },\r\n            h2: {\r\n                fontSize: 40,\r\n                fontWeight: 700,\r\n                marginBottom: 8,\r\n            },\r\n            h1: {\r\n                fontSize: 54,\r\n                fontWeight: 700,\r\n                marginBottom: 10,\r\n            },\r\n        },\r\n    };\r\n}\r\nfunction createThemeOverrides(theme) {\r\n    return {\r\n        MuiCssBaseline: {\r\n            '@global': {\r\n                html: {\r\n                    height: '100%',\r\n                    fontFamily: theme.typography.fontFamily,\r\n                },\r\n                body: {\r\n                    height: '100%',\r\n                    fontFamily: theme.typography.fontFamily,\r\n                    'overscroll-behavior-y': 'none',\r\n                },\r\n                a: {\r\n                    color: 'inherit',\r\n                    textDecoration: 'none',\r\n                },\r\n            },\r\n        },\r\n        MuiTableRow: {\r\n            root: {\r\n                '&:nth-of-type(odd)': {\r\n                    backgroundColor: theme.palette.background.default,\r\n                },\r\n            },\r\n            hover: {\r\n                '&:hover': {\r\n                    cursor: 'pointer',\r\n                },\r\n            },\r\n            head: {\r\n                '&:nth-of-type(odd)': {\r\n                    backgroundColor: theme.palette.background.paper,\r\n                },\r\n            },\r\n        },\r\n        MuiTableCell: {\r\n            root: {\r\n                wordBreak: 'break-word',\r\n                overflow: 'hidden',\r\n                verticalAlign: 'middle',\r\n                lineHeight: '1',\r\n                margin: 0,\r\n                padding: '8px',\r\n                borderBottom: 0,\r\n            },\r\n            head: {\r\n                wordBreak: 'break-word',\r\n                overflow: 'hidden',\r\n                color: 'rgb(179, 179, 179)',\r\n                fontWeight: 'normal',\r\n                lineHeight: '1',\r\n            },\r\n        },\r\n        MuiTabs: {\r\n            root: {\r\n                minHeight: 24,\r\n            },\r\n        },\r\n        MuiTab: {\r\n            root: {\r\n                color: theme.palette.link,\r\n                minHeight: 24,\r\n                textTransform: 'initial',\r\n                '&:hover': {\r\n                    color: darken(theme.palette.link, 0.3),\r\n                    background: lighten(theme.palette.link, 0.95),\r\n                },\r\n                [theme.breakpoints.up('md')]: {\r\n                    minWidth: 120,\r\n                    fontSize: theme.typography.pxToRem(14),\r\n                    fontWeight: 500,\r\n                },\r\n            },\r\n            textColorPrimary: {\r\n                color: theme.palette.link,\r\n            },\r\n        },\r\n        MuiTableSortLabel: {\r\n            root: {\r\n                color: 'inherit',\r\n                '&:hover': {\r\n                    color: 'inherit',\r\n                },\r\n                '&:focus': {\r\n                    color: 'inherit',\r\n                },\r\n            },\r\n            active: {\r\n                fontWeight: 'bold',\r\n                color: 'inherit',\r\n            },\r\n        },\r\n        MuiListItemText: {\r\n            dense: {\r\n                whiteSpace: 'nowrap',\r\n                overflow: 'hidden',\r\n                textOverflow: 'ellipsis',\r\n            },\r\n        },\r\n        MuiButton: {\r\n            text: {\r\n                padding: undefined,\r\n            },\r\n        },\r\n        MuiChip: {\r\n            root: {\r\n                marginRight: theme.spacing(1),\r\n                marginBottom: theme.spacing(1),\r\n            },\r\n        },\r\n        MuiCardHeader: {\r\n            root: {\r\n                paddingBottom: 0,\r\n            },\r\n        },\r\n        MuiCardActions: {\r\n            root: {\r\n                justifyContent: 'flex-end',\r\n            },\r\n        },\r\n    };\r\n}\r\nfunction createTheme(palette) {\r\n    const themeOptions = createThemeOptions(palette);\r\n    const baseTheme = createMuiTheme(themeOptions);\r\n    const overrides = createThemeOverrides(baseTheme);\r\n    const theme = { ...baseTheme, overrides };\r\n    return theme;\r\n}\n\nconst lightTheme = createTheme({\r\n    type: 'light',\r\n    background: {\r\n        default: '#F8F8F8',\r\n    },\r\n    status: {\r\n        ok: '#1db855',\r\n        warning: '#f49b20',\r\n        error: '#CA001B',\r\n        running: '#BEBEBE',\r\n        pending: '#5BC0DE',\r\n        background: '#F8F8F8',\r\n    },\r\n    bursts: {\r\n        fontColor: '#FEFEFE',\r\n        slackChannelText: '#ddd',\r\n        backgroundColor: {\r\n            default: '#7C3699',\r\n        },\r\n    },\r\n    primary: {\r\n        main: blue[500],\r\n    },\r\n    border: '#E6E6E6',\r\n    textContrast: '#000000',\r\n    textVerySubtle: '#DDD',\r\n    textSubtle: '#6E6E6E',\r\n    highlight: '#FFFBCC',\r\n    errorBackground: '#FFEBEE',\r\n    warningBackground: '#F59B23',\r\n    infoBackground: '#ebf5ff',\r\n    errorText: '#CA001B',\r\n    infoText: '#004e8a',\r\n    warningText: '#FEFEFE',\r\n    linkHover: '#2196F3',\r\n    link: '#0A6EBE',\r\n    gold: yellow.A700,\r\n    sidebar: '#171717',\r\n});\r\nconst darkTheme = createTheme({\r\n    type: 'dark',\r\n    background: {\r\n        default: '#282828',\r\n    },\r\n    status: {\r\n        ok: '#1db855',\r\n        warning: '#f49b20',\r\n        error: '#CA001B',\r\n        running: '#BEBEBE',\r\n        pending: '#5BC0DE',\r\n        background: '#282828',\r\n    },\r\n    bursts: {\r\n        fontColor: '#FEFEFE',\r\n        slackChannelText: '#ddd',\r\n        backgroundColor: {\r\n            default: '#7C3699',\r\n        },\r\n    },\r\n    primary: {\r\n        main: blue[500],\r\n    },\r\n    border: '#E6E6E6',\r\n    textContrast: '#FFFFFF',\r\n    textVerySubtle: '#DDD',\r\n    textSubtle: '#6E6E6E',\r\n    highlight: '#FFFBCC',\r\n    errorBackground: '#FFEBEE',\r\n    warningBackground: '#F59B23',\r\n    infoBackground: '#ebf5ff',\r\n    errorText: '#CA001B',\r\n    infoText: '#004e8a',\r\n    warningText: '#FEFEFE',\r\n    linkHover: '#2196F3',\r\n    link: '#0A6EBE',\r\n    gold: yellow.A700,\r\n    sidebar: '#424242',\r\n});\n\nconst rokuLightTheme = createTheme({\r\n    type: 'light',\r\n    background: {\r\n        default: '#F8F8F8',\r\n    },\r\n    status: {\r\n        ok: '#1db855',\r\n        warning: '#f49b20',\r\n        error: '#CA001B',\r\n        running: '#BEBEBE',\r\n        pending: '#5BC0DE',\r\n        background: '#F8F8F8',\r\n    },\r\n    bursts: {\r\n        fontColor: '#FEFEFE',\r\n        slackChannelText: '#ddd',\r\n        backgroundColor: {\r\n            default: '#7C3699',\r\n        },\r\n    },\r\n    primary: {\r\n        main: deepPurple[500],\r\n    },\r\n    border: '#E6E6E6',\r\n    textContrast: '#000000',\r\n    textVerySubtle: '#DDD',\r\n    textSubtle: '#6E6E6E',\r\n    highlight: '#FFFBCC',\r\n    errorBackground: '#FFEBEE',\r\n    warningBackground: '#F59B23',\r\n    infoBackground: '#ebf5ff',\r\n    errorText: '#CA001B',\r\n    infoText: '#004e8a',\r\n    warningText: '#FEFEFE',\r\n    linkHover: '#2196F3',\r\n    link: '#0A6EBE',\r\n    gold: yellow.A700,\r\n    sidebar: '#171717',\r\n});\r\nconst rokuDarkTheme = createTheme({\r\n    type: 'dark',\r\n    background: {\r\n        default: 'rgb(38, 36, 38)',\r\n    },\r\n    status: {\r\n        ok: '#1db855',\r\n        warning: '#f49b20',\r\n        error: '#CA001B',\r\n        running: '#BEBEBE',\r\n        pending: '#5BC0DE',\r\n        background: 'rgb(38, 36, 38)',\r\n    },\r\n    bursts: {\r\n        fontColor: '#FEFEFE',\r\n        slackChannelText: '#ddd',\r\n        backgroundColor: {\r\n            default: '#7C3699',\r\n        },\r\n    },\r\n    primary: {\r\n        main: deepPurple[500],\r\n    },\r\n    border: '#E6E6E6',\r\n    textContrast: '#FFFFFF',\r\n    textVerySubtle: '#DDD',\r\n    textSubtle: '#6E6E6E',\r\n    highlight: '#FFFBCC',\r\n    errorBackground: '#FFEBEE',\r\n    warningBackground: '#F59B23',\r\n    infoBackground: '#ebf5ff',\r\n    errorText: '#CA001B',\r\n    infoText: '#004e8a',\r\n    warningText: '#FEFEFE',\r\n    linkHover: '#2196F3',\r\n    link: '#0A6EBE',\r\n    gold: yellow.A700,\r\n    sidebar: '#424242',\r\n});\n\nexport { createTheme, createThemeOptions, createThemeOverrides, darkTheme, lightTheme, rokuDarkTheme, rokuLightTheme };\n","import React, { createContext, useContext, Fragment, Component, useState, useRef, useEffect, Children, isValidElement, memo, useCallback, useLayoutEffect } from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport { makeStyles, Grid, Typography, Link, Tooltip, Divider, ListItem, ListItemText, ListItemIcon, withStyles, CardHeader, CardActions, Card, CardContent, List, TextField, Button, Tabs, Tab, styled, IconButton, useTheme, LinearProgress, Stepper as Stepper$1, Step as Step$1, StepLabel, StepContent, Popover, TableFooter, Table, TableBody, TableHead, TableRow, TableCell, TableSortLabel, ClickAwayListener } from '@material-ui/core';\nimport { makeStyles as makeStyles$1 } from '@material-ui/core/styles';\nimport PeopleIcon from '@material-ui/icons/People';\nimport PersonIcon from '@material-ui/icons/Person';\nimport PropTypes from 'prop-types';\nimport { GitHub } from '@material-ui/icons';\nimport Helmet from 'react-helmet';\nimport classNames from 'classnames';\nimport ArrowIcon from '@material-ui/icons/ArrowForward';\nimport Box from '@material-ui/core/Box';\nimport clsx from 'clsx';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport { Circle, Line } from 'rc-progress';\nimport CopyIcon from '@material-ui/icons/FileCopy';\nimport GroupIcon from '@material-ui/icons/Group';\nimport HelpIcon from '@material-ui/icons/Help';\nimport startCase from 'lodash/startCase';\nimport { Sparklines, SparklinesLine } from 'react-sparklines';\nimport { createPortal } from 'react-dom';\nimport ErrorOutline from '@material-ui/icons/ErrorOutline';\n\nclass ApiRef {\r\n    constructor(config) {\r\n        this.config = config;\r\n        if (!config.id.match(/^[a-z][a-z0-9]*(\\.[a-z][a-z0-9]*)*$/)) {\r\n            throw new Error(`API id must only contain lowercase alphanums separated by dots, got '${config.id}'`);\r\n        }\r\n    }\r\n    get id() {\r\n        return this.config.id;\r\n    }\r\n    get description() {\r\n        return this.config.description;\r\n    }\r\n    get T() {\r\n        throw new Error(`tried to read ApiRef.T of ${this}`);\r\n    }\r\n    toString() {\r\n        return `apiRef{${this.config.id}}`;\r\n    }\r\n}\n\nconst Context = createContext(undefined);\r\nconst AppContextProvider = ({ app, children }) => (React.createElement(Context.Provider, { value: app, children: children }));\r\nconst useApp = () => {\r\n    const app = useContext(Context);\r\n    if (!app) {\r\n        throw new Error('No app context available');\r\n    }\r\n    return app;\r\n};\n\nvar FeatureFlagState;\r\n(function (FeatureFlagState) {\r\n    FeatureFlagState[FeatureFlagState[\"Off\"] = 0] = \"Off\";\r\n    FeatureFlagState[FeatureFlagState[\"On\"] = 1] = \"On\";\r\n})(FeatureFlagState || (FeatureFlagState = {}));\r\nconst featureFlagsApiRef = new ApiRef({\r\n    id: 'core.featureflags',\r\n    description: 'Used to toggle functionality in features across Backstage',\r\n});\n\nconst useStyles = makeStyles({\r\n    micDrop: {\r\n        maxWidth: '60%',\r\n        bottom: 10,\r\n        right: 10,\r\n        position: 'absolute',\r\n    },\r\n});\r\nconst MicDrop = () => {\r\n    const classes = useStyles();\r\n    return (React.createElement(\"svg\", { className: classes.micDrop, width: \"765\", height: \"549\", viewBox: \"0 0 765 549\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\r\n        React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M233.254 18.1123C287.613 12.9406 348.953 -19.7941 390.737 17.9035C433.262 56.2682 419.83 127.396 420.495 187.038C421.173 247.834 429.724 312.626 394.555 360.272C356.272 412.137 294.782 444.433 233.254 440.709C174.088 437.128 130.793 387.084 89.1619 341.79C47.9247 296.924 -2.50454 250.018 0.0966297 187.038C2.64988 125.217 53.6362 80.0377 101.402 45.4309C139.977 17.4827 186.903 22.5221 233.254 18.1123Z\", fill: \"#9BF0E1\" }),\r\n        React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M513.385 20.4439C566.693 14.8938 613.809 62.3867 650.746 106.814C683.285 145.952 687.847 201.929 705.832 251.918C725.902 307.696 777.756 358.692 762.097 416.298C746.456 473.841 682.485 490.291 634.414 514.658C595.842 534.21 555.492 539.703 513.385 542.369C468.505 545.211 418.55 561.006 382.241 530.624C345.943 500.251 351.456 437.745 332.509 391.022C309.653 334.66 245.906 289.233 260.017 229.218C273.979 169.835 349.469 169.535 393.023 133.647C436.218 98.0537 460.413 25.959 513.385 20.4439Z\", fill: \"#69DDC7\" }),\r\n        React.createElement(\"path\", { d: \"M584.384 331.262L618.437 362.37C620.096 363.886 622.677 363.738 624.152 362.042L625.747 360.209C627.216 358.521 627.014 355.956 625.299 354.519L590.183 325.076C589.459 324.469 588.534 324.093 587.606 324.266C584.444 324.854 583.314 327.325 583.371 329.355C583.392 330.105 583.83 330.756 584.384 331.262Z\", fill: \"black\", stroke: \"black\" }),\r\n        React.createElement(\"circle\", { cx: \"630.54\", cy: \"366.006\", r: \"11.6617\", transform: \"rotate(131.021 630.54 366.006)\", fill: \"#616161\" }),\r\n        React.createElement(\"rect\", { x: \"639.69\", y: \"357.103\", width: \"25.4436\", height: \"3.18045\", rx: \"1.59023\", transform: \"rotate(131.021 639.69 357.103)\", fill: \"#282828\" }),\r\n        React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M331.081 60.2902C334.528 72.9923 339.02 101.544 334.436 106.022H305.436C305.433 105.971 305.43 105.92 305.427 105.868C294.679 104.679 286.319 95.5658 286.319 84.5V63.5C286.319 51.6259 295.945 42 307.819 42H309.819C320.602 42 329.531 49.9385 331.081 60.2902Z\", fill: \"#181818\" }),\r\n        React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M297.581 80.4901C292.973 75.0814 289.854 68.4529 290.376 61.0255C291.877 39.625 321.667 44.3328 327.462 55.1339C333.257 65.9351 332.568 93.333 325.079 95.2635C322.092 96.0333 315.73 94.1475 309.254 90.2443L313.319 119H289.319L297.581 80.4901Z\", fill: \"#EDB795\" }),\r\n        React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M304.069 76.8748C305.175 88.7528 304.732 102.317 301.436 105.537H272.436C270.82 77.4635 286.436 88.3349 286.436 61.9028C287.41 60.9515 288.33 60.01 289.24 59.1981L289.208 58.4207C294.229 48.1402 300.6 43 308.32 43C319.9 43 323.555 48.3883 326.668 52.9631C324.34 60.9482 315.309 62.1322 307.285 67.1095C306.339 66.341 305.133 65.8804 303.819 65.8804C300.781 65.8804 298.319 68.3428 298.319 71.3804C298.319 74.418 300.781 76.8804 303.819 76.8804C303.903 76.8804 303.986 76.8785 304.069 76.8748Z\", fill: \"#181818\" }),\r\n        React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M250.727 300.088C274.716 306.798 295.413 310.153 312.818 310.153C330.224 310.153 346.39 304.986 361.319 294.653C337.843 287.766 318.51 284.323 303.319 284.323C288.128 284.323 270.597 289.578 250.727 300.088Z\", fill: \"#C52B86\" }),\r\n        React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M333.586 319.824C333.354 319.477 333.159 319.098 333.004 318.689C329.797 310.208 278.436 218.726 273.319 202H331.145C335.035 214.717 352.546 294.52 355.01 310.442C362.785 335.557 378.794 416.895 380.838 422.53C382.988 428.458 370.891 434.633 367.668 427.346C362.539 415.75 350.317 383.665 344.876 364.074C339.775 345.708 335.621 329.184 333.586 319.824Z\", fill: \"#E7B291\" }),\r\n        React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M286.276 330.994C262.794 336.928 176.903 347.658 171.009 349.341C164.945 351.072 159.629 338.574 167.124 335.867C179.049 331.559 211.908 321.606 231.831 317.544C247.855 314.277 262.478 311.611 272.295 310.05C271.464 282.473 267.662 216.294 270.154 202H321.319C318.929 215.707 298.729 315.718 294.975 325.729C293.783 329.302 290.228 330.882 286.276 330.994Z\", fill: \"#EDB795\" }),\r\n        React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M167.668 332.539C164.532 331.956 162.235 331.793 160.774 332.05C158.998 332.363 156.459 333.116 153.156 334.309C153.52 336.369 156.784 354.884 162.951 389.854C167.977 390.456 170.406 389.168 170.238 385.991C170.07 382.814 169.959 380.17 169.902 378.059L176.859 350.213C176.993 349.677 176.667 349.134 176.132 349C176.123 348.998 176.113 348.996 176.104 348.994L171.786 348.044C169.935 345.402 168.851 343.181 168.534 341.381C168.276 339.919 168.51 337.795 169.237 335.01L169.237 335.01C169.516 333.941 168.876 332.849 167.807 332.57C167.761 332.558 167.714 332.548 167.668 332.539Z\", fill: \"white\" }),\r\n        React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M363.997 426.402C362.878 429.388 362.319 431.623 362.319 433.106C362.319 434.909 362.619 437.54 363.22 441C365.312 441 384.113 441 419.622 441C421.088 436.155 420.242 433.539 417.084 433.152C413.926 432.766 411.303 432.417 409.214 432.106L382.999 420.419C382.494 420.194 381.903 420.421 381.678 420.925C381.674 420.934 381.671 420.942 381.667 420.951L379.982 425.039C377.059 426.403 374.683 427.085 372.856 427.085C371.371 427.085 369.32 426.485 366.703 425.286L366.703 425.285C365.699 424.825 364.512 425.266 364.052 426.27C364.032 426.313 364.014 426.357 363.997 426.402Z\", fill: \"white\" }),\r\n        React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M270.319 202C292.866 195.549 314.199 195.549 334.319 202C341.319 233.937 358.328 246.613 361.319 295.579C327.319 312.473 285.319 283.53 250.319 300.005C240.319 276.961 254.319 221.464 270.319 202Z\", fill: \"#F038A5\" }),\r\n        React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M367.319 162.311L406.802 156.925C414.7 152.532 421.966 149.558 428.599 148.003C430.466 147.948 433.436 148.627 429.012 152.315C424.588 156.003 420.099 160.083 420.887 162.051C421.675 164.02 425.79 163.287 426.471 166.315C426.926 168.333 420.248 168.661 406.44 167.299L374.403 180L367.319 162.311ZM243.288 171.45L265.186 171.532C241.175 225.566 228.655 253.857 227.627 256.406C225.313 262.14 230.209 270.874 232.303 275.567C225.483 278.619 226.21 267.317 217.607 271.319C209.754 274.973 203.78 281.592 194.708 275.994C193.592 275.306 192.37 272.715 195.323 270.69C202.681 265.645 213.284 256.815 214.717 253.908C216.67 249.945 226.194 222.459 243.288 171.45Z\", fill: \"#EDB795\" }),\r\n        React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M303.268 102L320.413 103.142C324.635 141.343 347.635 165.473 399.13 157.304L405.971 206.499C357.841 212.719 315.632 193.45 306.981 141.278C304.742 127.773 302.973 113.718 303.268 102Z\", fill: \"#EEEEEE\" }),\r\n        React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M294.809 97.0159L320.786 102.965C320.786 147.644 335.019 176.15 342.319 209H272.162C271.174 220.351 270.567 232.018 270.251 244H217.72C229.624 180.664 254.749 131.664 293.094 97H294.796L294.809 97.0159Z\", fill: \"white\" }),\r\n        React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M283.231 145.259C281.423 173.101 282.486 194.347 286.421 209H272.162C274.12 186.514 277.575 165.267 283.231 145.259V145.259Z\", fill: \"#EEEEEE\" }),\r\n        React.createElement(\"path\", { d: \"M420 184C438.174 208.939 473.047 287.772 467.144 403.592C469.74 373.957 481.656 315.366 508.548 318.087C535.441 320.808 531.505 401.163 526.176 441C532.052 385.292 552.334 355.087 573.5 351\", stroke: \"#F9F9F9\", strokeWidth: \"4\", strokeLinecap: \"round\", strokeDasharray: \"10 15\" })));\r\n};\n\nconst useStyles$1 = makeStyles$1((theme) => ({\r\n    container: {\r\n        padding: theme.spacing(8),\r\n    },\r\n    title: {\r\n        paddingBottom: theme.spacing(5),\r\n    },\r\n    subtitle: {\r\n        color: theme.palette.textSubtle,\r\n    },\r\n}));\r\nconst ErrorPage = ({ status, statusMessage, history }) => {\r\n    const classes = useStyles$1();\r\n    return (React.createElement(Grid, { container: true, className: classes.container },\r\n        React.createElement(MicDrop, null),\r\n        React.createElement(Grid, { item: true, xs: 12, sm: 4 },\r\n            React.createElement(Typography, { variant: \"body1\", className: classes.subtitle },\r\n                \"ERROR \",\r\n                status,\r\n                \": \",\r\n                statusMessage),\r\n            React.createElement(Typography, { variant: \"h2\", className: classes.title }, \"Looks like someone dropped the mic!\"),\r\n            React.createElement(Typography, { variant: \"h6\" },\r\n                React.createElement(Link, { \"data-testid\": \"go-back-link\", onClick: history.goBack }, \"Go back\"),\r\n                \"... or if you think this is a bug, please file an\",\r\n                ' ',\r\n                React.createElement(Link, { href: \"https://github.com/spotify/backstage/issues\" }, \"issue.\")))));\r\n};\n\nconst defaultSystemIcons = {\r\n    user: PersonIcon,\r\n    group: PeopleIcon,\r\n};\n\nconst Context$1 = createContext(undefined);\r\nconst ApiProvider = ({ apis, children }) => {\r\n    return React.createElement(Context$1.Provider, { value: apis, children: children });\r\n};\r\nApiProvider.propTypes = {\r\n    apis: PropTypes.shape({ get: PropTypes.func.isRequired }).isRequired,\r\n    children: PropTypes.node,\r\n};\r\nfunction useApi(apiRef) {\r\n    const apiHolder = useContext(Context$1);\r\n    if (!apiHolder) {\r\n        throw new Error('No ApiProvider available in react context');\r\n    }\r\n    const api = apiHolder.get(apiRef);\r\n    if (!api) {\r\n        throw new Error(`No implementation available for ${apiRef}`);\r\n    }\r\n    return api;\r\n}\n\nclass ApiRegistryBuilder {\r\n    constructor() {\r\n        this.apis = [];\r\n    }\r\n    add(api, impl) {\r\n        this.apis.push([api, impl]);\r\n        return impl;\r\n    }\r\n    build() {\r\n        return new ApiRegistry(new Map(this.apis));\r\n    }\r\n}\r\nclass ApiRegistry {\r\n    constructor(apis) {\r\n        this.apis = apis;\r\n    }\r\n    static builder() {\r\n        return new ApiRegistryBuilder();\r\n    }\r\n    static from(apis) {\r\n        return new ApiRegistry(new Map(apis));\r\n    }\r\n    get(api) {\r\n        return this.apis.get(api);\r\n    }\r\n}\n\nclass ApiTestRegistry {\r\n    constructor() {\r\n        this.apis = new Map();\r\n        this.factories = new Map();\r\n        this.savedFactories = new Map();\r\n    }\r\n    get(ref) {\r\n        return this.load(ref);\r\n    }\r\n    register(factory, factoryFunc) {\r\n        if (factory instanceof ApiRef) {\r\n            this.factories.set(factory, {\r\n                implements: factory,\r\n                deps: {},\r\n                factory: factoryFunc,\r\n            });\r\n        }\r\n        else {\r\n            this.factories.set(factory.implements, factory);\r\n        }\r\n        return this;\r\n    }\r\n    reset() {\r\n        this.factories = this.savedFactories;\r\n        this.apis.clear();\r\n    }\r\n    save() {\r\n        this.savedFactories = new Map(this.factories);\r\n        return this;\r\n    }\r\n    load(ref, loading = []) {\r\n        const impl = this.apis.get(ref);\r\n        if (impl) {\r\n            return impl;\r\n        }\r\n        const factory = this.factories.get(ref);\r\n        if (!factory) {\r\n            return undefined;\r\n        }\r\n        if (loading.includes(factory.implements)) {\r\n            throw new Error(`Circular dependency of api factory for ${factory.implements}`);\r\n        }\r\n        const deps = this.loadDeps(ref, factory.deps, [\r\n            ...loading,\r\n            factory.implements,\r\n        ]);\r\n        const api = factory.factory(deps);\r\n        this.apis.set(ref, api);\r\n        return api;\r\n    }\r\n    loadDeps(dependent, apis, loading) {\r\n        const impls = {};\r\n        for (const key in apis) {\r\n            if (apis.hasOwnProperty(key)) {\r\n                const ref = apis[key];\r\n                const api = this.load(ref, loading);\r\n                if (!api) {\r\n                    throw new Error(`No API factory available for dependency ${ref} of dependent ${dependent}`);\r\n                }\r\n                impls[key] = api;\r\n            }\r\n        }\r\n        return impls;\r\n    }\r\n}\n\nfunction createApiFactory(factory) {\r\n    return factory;\r\n}\n\nconst alertApiRef = new ApiRef({\r\n    id: 'core.alert',\r\n    description: 'Used to report alerts and forward them to the app',\r\n});\n\nconst errorApiRef = new ApiRef({\r\n    id: 'core.error',\r\n    description: 'Used to report errors and forward them to the app',\r\n});\n\nclass AlertApiForwarder {\r\n    constructor() {\r\n        this.subscribers = new Set();\r\n    }\r\n    post(alert) {\r\n        this.subscribers.forEach(subscriber => subscriber(alert));\r\n    }\r\n    subscribe(func) {\r\n        this.subscribers.add(func);\r\n        return () => {\r\n            this.subscribers.delete(func);\r\n        };\r\n    }\r\n}\n\nclass ErrorApiForwarder {\r\n    constructor(alertApi) {\r\n        this.subscribers = new Set();\r\n        this.alertApi = alertApi;\r\n    }\r\n    post(error, context) {\r\n        if (context === null || context === void 0 ? void 0 : context.hidden) {\r\n            return;\r\n        }\r\n        this.alertApi.post({ message: error.message, severity: 'error' });\r\n        this.subscribers.forEach(subscriber => subscriber(error));\r\n    }\r\n    subscribe(func) {\r\n        this.subscribers.add(func);\r\n        return () => {\r\n            this.subscribers.delete(func);\r\n        };\r\n    }\r\n}\n\nconst gradients = {\r\n    blue: {\r\n        colors: ['#2D46B9', '#509BF5'],\r\n    },\r\n    darkBlue: {\r\n        colors: ['#1E3264', '#A0C3D2'],\r\n    },\r\n    brown: {\r\n        colors: ['#674638', '#C39887'],\r\n    },\r\n    green: {\r\n        colors: ['#1DB954', '#006350'],\r\n    },\r\n    orangeYellow: {\r\n        colors: ['#FF6437', '#FFC864'],\r\n    },\r\n    redOrange: {\r\n        colors: ['#A72525', '#E6542D'],\r\n    },\r\n    pinkOrange: {\r\n        colors: ['#F13DA2', '#FF8A48'],\r\n    },\r\n    purpleBlue: {\r\n        colors: ['#2D00AA', '#C769B5'],\r\n    },\r\n    tealGreen: {\r\n        colors: ['#19E68C', '#1D7F6E'],\r\n    },\r\n    violetPeach: {\r\n        colors: ['#B39AC8', '#FCCBD3'],\r\n    },\r\n    violetGreen: {\r\n        colors: ['#4302F4', '#C3EFC8'],\r\n    },\r\n    purple: {\r\n        colors: ['#a186bd', '#7c5c92'],\r\n    },\r\n    eveningSea: {\r\n        colors: ['#00FFF2', '#035355'],\r\n    },\r\n    royalBlue: {\r\n        colors: ['#000044', '#4B80D4'],\r\n    },\r\n    grey: {\r\n        colors: ['#111111', '#777777'],\r\n    },\r\n    sunset: {\r\n        colors: ['#cf8022', '#4e6ec7'],\r\n    },\r\n    sky: {\r\n        colors: ['#69B9FF', '#ACCEEC'],\r\n    },\r\n    teal: {\r\n        colors: ['#005E4D', '#9BF0E1'],\r\n    },\r\n};\r\nconst pageTheme = {\r\n    home: {\r\n        gradient: gradients.purpleBlue,\r\n    },\r\n    documentation: {\r\n        gradient: gradients.purpleBlue,\r\n    },\r\n    tool: {\r\n        gradient: gradients.purpleBlue,\r\n    },\r\n};\n\nconst Theme = React.createContext(pageTheme.home);\r\nconst useStyles$2 = makeStyles(() => ({\r\n    root: {\r\n        display: 'grid',\r\n        gridTemplateAreas: \"'pageHeader pageHeader pageHeader' 'pageSubheader pageSubheader pageSubheader' 'pageNav pageContent pageSidebar'\",\r\n        gridTemplateRows: 'auto auto 1fr',\r\n        gridTemplateColumns: 'auto 1fr auto',\r\n        minHeight: '100vh',\r\n    },\r\n}));\r\nconst Page = ({ theme = pageTheme.home, children }) => {\r\n    const classes = useStyles$2();\r\n    return (React.createElement(Theme.Provider, { value: theme },\r\n        React.createElement(\"div\", { className: classes.root }, children)));\r\n};\n\nconst useStyles$3 = makeStyles({\r\n    wave: {\r\n        position: 'absolute',\r\n        height: '100%',\r\n        width: '100%',\r\n        top: 0,\r\n        bottom: 0,\r\n        left: 0,\r\n        right: 0,\r\n        zIndex: -1,\r\n    },\r\n});\r\nconst Waves = ({ theme }) => {\r\n    const classes = useStyles$3();\r\n    const [color1, color2] = theme.gradient.colors;\r\n    return (React.createElement(\"svg\", { viewBox: \"0 0 1440 94\", preserveAspectRatio: \"xMinYMin slice\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", className: classes.wave, \"data-testid\": \"wave-svg\" },\r\n        React.createElement(\"rect\", { width: \"1440\", height: \"94\", fill: \"url(#paint0_linear)\" }),\r\n        React.createElement(\"g\", { opacity: \"0.8\" },\r\n            React.createElement(\"mask\", { id: \"mask0\", \"mask-type\": \"alpha\", maskUnits: \"userSpaceOnUse\", x: \"0\", y: \"0\", width: \"1440\", height: \"94\" },\r\n                React.createElement(\"rect\", { width: \"1440\", height: \"94\", fill: color1 })),\r\n            React.createElement(\"g\", { mask: \"url(#mask0)\" },\r\n                React.createElement(\"path\", { d: \"M710.947 14.3685C605.39 154.457 195.464 165.759 92 154.301V210.649L2330 287V222.126C1516.52 222.126 1394.17 80.1091 1161.6 -40.9544C926.122 -163.528 768.278 -61.7182 710.947 14.3685Z\", fill: \"url(#paint1_linear)\" }),\r\n                React.createElement(\"path\", { d: \"M1163.25 124.34C1058.49 -16.113 651.678 -27.4441 549 -15.9565V-72.4504L2770 -149V-83.9579C1962.69 -83.9579 1841.28 58.4283 1610.47 179.806C1376.79 302.698 1220.14 200.624 1163.25 124.34Z\", fill: \"url(#paint2_linear)\" }),\r\n                React.createElement(\"path\", { d: \"M-104.701 -5.00477C-224.644 62.3106 -690.435 67.7413 -808 62.2356V89.3117L1735 126V94.827C810.651 94.827 671.63 26.5849 407.363 -31.5885C139.798 -90.4876 -39.557 -41.5659 -104.701 -5.00477Z\", fill: \"url(#paint3_linear)\" }),\r\n                React.createElement(\"path\", { d: \"M-247.511 -32.6315C-338.493 107.457 -691.821 118.759 -781 107.301V163.649L1148 240V175.126C446.833 175.126 341.378 33.1091 140.917 -87.9544C-62.0447 -210.528 -198.095 -108.718 -247.511 -32.6315Z\", fill: \"url(#paint4_linear)\" }))),\r\n        React.createElement(\"defs\", null,\r\n            React.createElement(\"linearGradient\", { id: \"paint0_linear\", x1: \"7.21415e-07\", y1: \"61\", x2: \"1649\", y2: \"59.5001\", gradientUnits: \"userSpaceOnUse\" },\r\n                React.createElement(\"stop\", { stopColor: color1 })),\r\n            React.createElement(\"linearGradient\", { id: \"paint1_linear\", x1: \"1318.25\", y1: \"-285.884\", x2: \"1311.42\", y2: \"241.925\", gradientUnits: \"userSpaceOnUse\" },\r\n                React.createElement(\"stop\", { stopColor: color2, stopOpacity: \"0.72\" }),\r\n                React.createElement(\"stop\", { offset: \"1\", stopColor: color2, stopOpacity: \"0\" })),\r\n            React.createElement(\"linearGradient\", { id: \"paint2_linear\", x1: \"1765.93\", y1: \"425.372\", x2: \"1759.02\", y2: \"-103.806\", gradientUnits: \"userSpaceOnUse\" },\r\n                React.createElement(\"stop\", { stopColor: color2, stopOpacity: \"0.72\" }),\r\n                React.createElement(\"stop\", { offset: \"1\", stopColor: color2, stopOpacity: \"0\" })),\r\n            React.createElement(\"linearGradient\", { id: \"paint3_linear\", x1: \"585.365\", y1: \"-149.282\", x2: \"583.977\", y2: \"104.375\", gradientUnits: \"userSpaceOnUse\" },\r\n                React.createElement(\"stop\", { stopColor: color2, stopOpacity: \"0.72\" }),\r\n                React.createElement(\"stop\", { offset: \"1\", stopColor: color2, stopOpacity: \"0\" })),\r\n            React.createElement(\"linearGradient\", { id: \"paint4_linear\", x1: \"275.941\", y1: \"-332.884\", x2: \"268.016\", y2: \"194.894\", gradientUnits: \"userSpaceOnUse\" },\r\n                React.createElement(\"stop\", { stopColor: color2, stopOpacity: \"0.72\" }),\r\n                React.createElement(\"stop\", { offset: \"1\", stopColor: color2, stopOpacity: \"0\" })))));\r\n};\n\nconst useStyles$4 = makeStyles(theme => ({\r\n    header: {\r\n        gridArea: 'pageHeader',\r\n        padding: theme.spacing(3),\r\n        minHeight: 118,\r\n        width: '100%',\r\n        boxShadow: '0 0 8px 3px rgba(20, 20, 20, 0.3)',\r\n        position: 'relative',\r\n        zIndex: 100,\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'flex-end',\r\n        alignItems: 'center',\r\n    },\r\n    leftItemsBox: {\r\n        flex: '1 1 auto',\r\n    },\r\n    rightItemsBox: {\r\n        flex: '0 1 auto',\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        flexWrap: 'wrap',\r\n        alignItems: 'center',\r\n        marginRight: theme.spacing(6),\r\n    },\r\n    title: {\r\n        color: theme.palette.bursts.fontColor,\r\n        lineHeight: '1.0em',\r\n        wordBreak: 'break-all',\r\n        fontSize: 'calc(24px + 6 * ((100vw - 320px) / 680))',\r\n        marginBottom: theme.spacing(1),\r\n    },\r\n    subtitle: {\r\n        color: 'rgba(255, 255, 255, 0.8)',\r\n        lineHeight: '1.0em',\r\n    },\r\n    type: {\r\n        textTransform: 'uppercase',\r\n        fontSize: 9,\r\n        opacity: 0.8,\r\n        marginBottom: 10,\r\n        color: theme.palette.bursts.fontColor,\r\n    },\r\n}));\r\nconst TypeFragment = ({ type, typeLink, classes }) => {\r\n    if (!type) {\r\n        return null;\r\n    }\r\n    if (!typeLink) {\r\n        return (React.createElement(Typography, { className: classes.type }, type));\r\n    }\r\n    return (React.createElement(Typography, { className: classes.type }, type));\r\n};\r\nconst TitleFragment = ({ pageTitle, classes, tooltip, }) => {\r\n    const FinalTitle = (React.createElement(Typography, { className: classes.title, variant: \"h4\" }, pageTitle));\r\n    if (!tooltip) {\r\n        return FinalTitle;\r\n    }\r\n    return (React.createElement(Tooltip, { title: tooltip, placement: \"top-start\" }, FinalTitle));\r\n};\r\nconst SubtitleFragment = ({ classes, subtitle }) => {\r\n    if (!subtitle) {\r\n        return null;\r\n    }\r\n    if (typeof subtitle !== 'string') {\r\n        return React.createElement(React.Fragment, null, subtitle);\r\n    }\r\n    return (React.createElement(Typography, { className: classes.subtitle, variant: \"subtitle1\" }, subtitle));\r\n};\r\nconst Header = ({ children, pageTitleOverride, style, subtitle, title, tooltip, type, typeLink, }) => {\r\n    const classes = useStyles$4();\r\n    const documentTitle = pageTitleOverride || title;\r\n    const pageTitle = title || pageTitleOverride;\r\n    const titleTemplate = `${documentTitle} | %s | Backstage`;\r\n    const defaultTitle = `${documentTitle} | Backstage`;\r\n    return (React.createElement(Fragment, null,\r\n        React.createElement(Helmet, { titleTemplate: titleTemplate, defaultTitle: defaultTitle }),\r\n        React.createElement(Theme.Consumer, null, theme => (React.createElement(\"header\", { style: style, className: classes.header },\r\n            React.createElement(Waves, { theme: theme }),\r\n            React.createElement(\"div\", { className: classes.leftItemsBox },\r\n                React.createElement(TypeFragment, { classes: classes, type: type, typeLink: typeLink }),\r\n                React.createElement(TitleFragment, { classes: classes, pageTitle: pageTitle, tooltip: tooltip }),\r\n                React.createElement(SubtitleFragment, { classes: classes, subtitle: subtitle })),\r\n            React.createElement(\"div\", { className: classes.rightItemsBox }, children))))));\r\n};\n\nconst useStyles$5 = makeStyles((theme) => ({\r\n    root: {\r\n        gridArea: 'pageContent',\r\n        minWidth: 0,\r\n        paddingTop: theme.spacing(3),\r\n        paddingBottom: theme.spacing(3),\r\n        ...theme.mixins.gutters({}),\r\n    },\r\n    stretch: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        flexGrow: 1,\r\n    },\r\n    noPadding: {\r\n        padding: 0,\r\n    },\r\n}));\r\nconst Content = ({ className, stretch, noPadding, children, ...props }) => {\r\n    const classes = useStyles$5();\r\n    return (React.createElement(\"article\", Object.assign({}, props, { className: classNames(classes.root, className, {\r\n            [classes.stretch]: stretch,\r\n            [classes.noPadding]: noPadding,\r\n        }) }), children));\r\n};\n\nconst useStyles$6 = makeStyles(theme => ({\r\n    container: {\r\n        width: '100%',\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'flex-end',\r\n        alignItems: 'center',\r\n    },\r\n    leftItemsBox: {\r\n        flex: '1 1 auto',\r\n        marginBottom: theme.spacing(1),\r\n        minWidth: 0,\r\n        overflow: 'visible',\r\n    },\r\n    rightItemsBox: {\r\n        flex: '0 1 auto',\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        flexWrap: 'wrap',\r\n        alignItems: 'center',\r\n        marginLeft: theme.spacing(1),\r\n        marginBottom: theme.spacing(1),\r\n        minWidth: 0,\r\n        overflow: 'visible',\r\n    },\r\n    description: {},\r\n    title: {\r\n        display: 'inline-flex',\r\n    },\r\n}));\r\nconst DefaultTitle = ({ title = 'Unknown page', className, }) => (React.createElement(Typography, { variant: \"h4\", className: className, \"data-testid\": \"header-title\" }, title));\r\nconst ContentHeader = ({ description, title, titleComponent: TitleComponent = undefined, children, }) => {\r\n    const classes = useStyles$6();\r\n    const renderedTitle = TitleComponent ? (React.createElement(TitleComponent, null)) : (React.createElement(DefaultTitle, { title: title, className: classes.title }));\r\n    return (React.createElement(Fragment, null,\r\n        React.createElement(Helmet, { title: title }),\r\n        React.createElement(\"div\", { className: classes.container },\r\n            React.createElement(\"div\", { className: classes.leftItemsBox },\r\n                renderedTitle,\r\n                description && (React.createElement(Typography, { className: classes.description, variant: \"body2\" }, description))),\r\n            React.createElement(\"div\", { className: classes.rightItemsBox }, children))));\r\n};\n\nconst ErrorBoundary = class ErrorBoundary extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            error: undefined,\r\n            errorInfo: undefined,\r\n        };\r\n    }\r\n    componentDidCatch(error, errorInfo) {\r\n        console.error(`ErrorBoundary, error: ${error}, info: ${errorInfo}`);\r\n        this.setState({ error, errorInfo });\r\n    }\r\n    render() {\r\n        const { slackChannel } = this.props;\r\n        const { error, errorInfo } = this.state;\r\n        if (!errorInfo) {\r\n            return this.props.children;\r\n        }\r\n        return React.createElement(Error$1, { error: error, slackChannel: slackChannel });\r\n    }\r\n};\r\nconst Error$1 = ({ slackChannel }) => {\r\n    return (React.createElement(\"div\", null,\r\n        \"Something went wrong here.\",\r\n        ' ',\r\n        slackChannel && React.createElement(React.Fragment, null,\r\n            \"Please contact \",\r\n            slackChannel,\r\n            \" for help.\")));\r\n};\n\nconst useStyles$7 = makeStyles(theme => ({\r\n    root: {\r\n        maxWidth: 'fit-content',\r\n        padding: theme.spacing(2, 2, 2, 2.5),\r\n    },\r\n    boxTitle: {\r\n        margin: 0,\r\n        color: theme.palette.textSubtle,\r\n    },\r\n    arrow: {\r\n        color: theme.palette.textSubtle,\r\n    },\r\n}));\r\nconst BottomLink = ({ link, title, onClick }) => {\r\n    const classes = useStyles$7();\r\n    return (React.createElement(\"div\", null,\r\n        React.createElement(Divider, null),\r\n        React.createElement(Link, { href: link, onClick: onClick, underline: \"none\" },\r\n            React.createElement(ListItem, { className: classes.root },\r\n                React.createElement(ListItemText, null,\r\n                    React.createElement(Box, { className: classes.boxTitle, fontWeight: \"fontWeightBold\", m: 1 }, title)),\r\n                React.createElement(ListItemIcon, null,\r\n                    React.createElement(ArrowIcon, { className: classes.arrow }))))));\r\n};\n\nconst useStyles$8 = makeStyles((theme) => ({\r\n    header: {\r\n        padding: theme.spacing(2, 2, 2, 2.5),\r\n    },\r\n}));\r\nconst BoldHeader = withStyles((theme) => ({\r\n    title: { fontWeight: 700 },\r\n    subheader: { paddingTop: theme.spacing(1) },\r\n}))(CardHeader);\r\nconst CardActionsTopRight = withStyles((theme) => ({\r\n    root: {\r\n        display: 'inline-block',\r\n        padding: theme.spacing(8, 8, 0, 0),\r\n        float: 'right',\r\n    },\r\n}))(CardActions);\r\nconst VARIANT_STYLES = {\r\n    card: {\r\n        flex: {\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n        },\r\n        fullHeight: {\r\n            height: '100%',\r\n        },\r\n        height100: {\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            height: 'calc(100% - 10px)',\r\n            marginBottom: '10px',\r\n        },\r\n        contentheader: {\r\n            height: 'calc(100% - 40px)',\r\n        },\r\n        contentheadertabs: {\r\n            height: 'calc(100% - 97px)',\r\n        },\r\n        noShrink: {\r\n            flexShrink: 0,\r\n        },\r\n        minheight300: {\r\n            minHeight: 300,\r\n            overflow: 'initial',\r\n        },\r\n    },\r\n    cardContent: {\r\n        fullHeight: {\r\n            height: 'calc(100% - 50px)',\r\n        },\r\n        height100: {\r\n            height: 'calc(100% - 50px)',\r\n        },\r\n        contentRow: {\r\n            display: 'flex',\r\n            flexDirection: 'row',\r\n        },\r\n    },\r\n};\r\nconst InfoCard = ({ title, subheader, divider, deepLink, slackChannel = '#backstage', variant, children, headerStyle, headerProps, actionsClassName, actions, cardClassName, actionsTopRight, }) => {\r\n    const classes = useStyles$8();\r\n    let calculatedStyle = {};\r\n    let calculatedCardStyle = {};\r\n    if (variant) {\r\n        const variants = variant.split(/[\\s]+/g);\r\n        variants.forEach((name) => {\r\n            calculatedStyle = {\r\n                ...calculatedStyle,\r\n                ...VARIANT_STYLES.card[name],\r\n            };\r\n            calculatedCardStyle = {\r\n                ...calculatedCardStyle,\r\n                ...VARIANT_STYLES.cardContent[name],\r\n            };\r\n        });\r\n    }\r\n    return (React.createElement(Card, { style: calculatedStyle },\r\n        React.createElement(ErrorBoundary, { slackChannel: slackChannel },\r\n            title && (React.createElement(React.Fragment, null,\r\n                React.createElement(BoldHeader, Object.assign({ className: classes.header, title: title, subheader: subheader, style: { display: 'inline-block', ...headerStyle } }, headerProps)),\r\n                React.createElement(Divider, null))),\r\n            actionsTopRight && (React.createElement(CardActionsTopRight, null, actionsTopRight)),\r\n            divider && React.createElement(Divider, null),\r\n            React.createElement(CardContent, { className: cardClassName, style: calculatedCardStyle }, children),\r\n            actions && (React.createElement(CardActions, { className: actionsClassName }, actions)),\r\n            deepLink && React.createElement(BottomLink, Object.assign({}, deepLink)))));\r\n};\n\nvar AuthType;\r\n(function (AuthType) {\r\n    AuthType[AuthType[\"GitHub\"] = 0] = \"GitHub\";\r\n})(AuthType || (AuthType = {}));\r\nconst LoginPage = () => {\r\n    const [githubUsername, setGithubUsername] = useState(String);\r\n    const [githubPersonalAuthToken, setGithubPersonalAuthToken] = useState(String);\r\n    const [loginDetails, setLoginDetails] = useState(Object);\r\n    const saveGithubInfo = (info) => {\r\n        localStorage.setItem('githubLoginDetails', JSON.stringify(info));\r\n        setLoginDetails(info);\r\n    };\r\n    const deleteGithubInfo = () => {\r\n        localStorage.removeItem('githubLoginDetails');\r\n        setLoginDetails(undefined);\r\n    };\r\n    const handleTokenRegistration = (event) => {\r\n        switch (event.target.name) {\r\n            case 'github-username-tf':\r\n                setGithubUsername(event.target.value);\r\n                break;\r\n            case 'github-auth-tf':\r\n                setGithubPersonalAuthToken(event.target.value);\r\n                break;\r\n        }\r\n    };\r\n    const fetchGitHubToken = (username, token) => {\r\n        fetch('https://api.github.com/user', {\r\n            headers: new Headers({\r\n                Authorization: `Basic ${btoa(`${username}:${token}`)}`,\r\n                'Content-Type': 'application/x-www-form-urlencoded',\r\n            }),\r\n        })\r\n            .then(response => {\r\n            if (response.status === 200)\r\n                return response.json();\r\n            throw Error(`${response.status} ${response.statusText}`);\r\n        })\r\n            .then(data => {\r\n            const info = {\r\n                username: username,\r\n                token: token,\r\n                name: data.name || data.login,\r\n            };\r\n            saveGithubInfo(info);\r\n        })\r\n            .catch(() => { });\r\n    };\r\n    const validateUsernameAndToken = (username, token) => {\r\n        if (username === undefined || username === null || username === '')\r\n            return false;\r\n        if (token === undefined || token === null || token === '')\r\n            return false;\r\n        return true;\r\n    };\r\n    const authenticate = (type) => {\r\n        switch (type) {\r\n            case AuthType.GitHub:\r\n                {\r\n                    const username = githubUsername;\r\n                    const token = githubPersonalAuthToken;\r\n                    if (validateUsernameAndToken(username, token))\r\n                        fetchGitHubToken(username, token);\r\n                }\r\n                break;\r\n        }\r\n    };\r\n    const LoginIndicator = () => {\r\n        const ls = localStorage.getItem('githubLoginDetails');\r\n        if (ls !== null) {\r\n            const obj = ls || loginDetails ? JSON.parse(ls) : loginDetails;\r\n            return (React.createElement(Typography, { variant: \"h6\", component: \"h2\" },\r\n                `Welcome, ${obj.name}!`,\r\n                React.createElement(\"br\", null),\r\n                React.createElement(Link, { onClick: deleteGithubInfo }, \"Logout\")));\r\n        }\r\n        return (React.createElement(Typography, { variant: \"h6\", component: \"h2\" }, \"Welcome, guest!\"));\r\n    };\r\n    return (React.createElement(Page, null,\r\n        React.createElement(Header, { title: \"Login\" },\r\n            React.createElement(LoginIndicator, null)),\r\n        React.createElement(Content, null,\r\n            React.createElement(ContentHeader, { title: \"Choose a method to authenticate\" }),\r\n            React.createElement(Grid, { container: true },\r\n                React.createElement(Grid, { item: true },\r\n                    React.createElement(InfoCard, null,\r\n                        React.createElement(Typography, { variant: \"h6\" },\r\n                            React.createElement(GitHub, null),\r\n                            \" GitHub\"),\r\n                        React.createElement(List, null,\r\n                            React.createElement(ListItem, null,\r\n                                React.createElement(TextField, { name: \"github-username-tf\", label: \"Username\", onChange: handleTokenRegistration })),\r\n                            React.createElement(ListItem, null,\r\n                                React.createElement(TextField, { name: \"github-auth-tf\", label: \"Token\", onChange: handleTokenRegistration })),\r\n                            React.createElement(ListItem, null,\r\n                                React.createElement(Button, { \"data-testid\": \"github-auth-button\", variant: \"outlined\", color: \"primary\", onClick: () => authenticate(AuthType.GitHub) }, \"Authenticate\")))))))));\r\n};\n\nclass AppImpl {\r\n    constructor(systemIcons) {\r\n        this.systemIcons = systemIcons;\r\n    }\r\n    getSystemIcon(key) {\r\n        return this.systemIcons[key];\r\n    }\r\n}\r\nclass AppBuilder {\r\n    constructor() {\r\n        this.systemIcons = { ...defaultSystemIcons };\r\n        this.plugins = new Set();\r\n    }\r\n    registerApis(apis) {\r\n        this.apis = apis;\r\n    }\r\n    registerIcons(icons) {\r\n        this.systemIcons = { ...this.systemIcons, ...icons };\r\n    }\r\n    registerPlugin(...plugin) {\r\n        for (const p of plugin) {\r\n            if (this.plugins.has(p)) {\r\n                throw new Error(`Plugin '${p}' is already registered`);\r\n            }\r\n            this.plugins.add(p);\r\n        }\r\n    }\r\n    build() {\r\n        const app = new AppImpl(this.systemIcons);\r\n        const routes = new Array();\r\n        const registeredFeatureFlags = new Array();\r\n        for (const plugin of this.plugins.values()) {\r\n            for (const output of plugin.output()) {\r\n                switch (output.type) {\r\n                    case 'route': {\r\n                        const { path, component, options = {} } = output;\r\n                        const { exact = true } = options;\r\n                        routes.push(React.createElement(Route, { key: path, path: path, component: component, exact: exact }));\r\n                        break;\r\n                    }\r\n                    case 'redirect-route': {\r\n                        const { path, target, options = {} } = output;\r\n                        const { exact = true } = options;\r\n                        routes.push(React.createElement(Redirect, { key: path, path: path, to: target, exact: exact }));\r\n                        break;\r\n                    }\r\n                    case 'feature-flag': {\r\n                        registeredFeatureFlags.push({\r\n                            pluginId: plugin.getId(),\r\n                            name: output.name,\r\n                        });\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        const FeatureFlags = this.apis && this.apis.get(featureFlagsApiRef);\r\n        if (FeatureFlags) {\r\n            FeatureFlags.registeredFeatureFlags = registeredFeatureFlags;\r\n        }\r\n        routes.push(React.createElement(Route, { key: \"login\", path: \"/login\", component: LoginPage, exact: true }));\r\n        let rendered = (React.createElement(Switch, null,\r\n            routes,\r\n            React.createElement(Route, { render: (props) => (React.createElement(ErrorPage, Object.assign({}, props, { status: \"404\", statusMessage: \"PAGE NOT FOUND\" }))) })));\r\n        if (this.apis) {\r\n            rendered = React.createElement(ApiProvider, { apis: this.apis, children: rendered });\r\n        }\r\n        return () => React.createElement(AppContextProvider, { app: app, children: rendered });\r\n    }\r\n}\n\nfunction validateBrowserCompat() {\r\n    if (!('localStorage' in window)) {\r\n        throw new Error('Feature Flags are not supported on browsers without the Local Storage API');\r\n    }\r\n}\r\nfunction validateFlagName(name) {\r\n    if (name.length < 3) {\r\n        throw new Error(`The '${name}' feature flag must have a minimum length of three characters.`);\r\n    }\r\n    if (name.length > 150) {\r\n        throw new Error(`The '${name}' feature flag must not exceed 150 characters.`);\r\n    }\r\n    if (!name.match(/^[a-z]+[a-z0-9-]+$/)) {\r\n        throw new Error(`The '${name}' feature flag must start with a lowercase letter and only contain lowercase letters, numbers and hyphens. ` +\r\n            'Examples: feature-flag-one, alpha, release-2020');\r\n    }\r\n}\r\nclass UserFlags extends Map {\r\n    static load() {\r\n        validateBrowserCompat();\r\n        try {\r\n            const jsonString = window.localStorage.getItem('featureFlags');\r\n            const json = JSON.parse(jsonString);\r\n            return new this(Object.entries(json));\r\n        }\r\n        catch (err) {\r\n            return new this([]);\r\n        }\r\n    }\r\n    get(name) {\r\n        return super.get(name) || FeatureFlagState.Off;\r\n    }\r\n    set(name, state) {\r\n        validateFlagName(name);\r\n        const output = super.set(name, state);\r\n        this.save();\r\n        return output;\r\n    }\r\n    delete(name) {\r\n        const output = super.delete(name);\r\n        this.save();\r\n        return output;\r\n    }\r\n    clear() {\r\n        super.clear();\r\n        this.save();\r\n    }\r\n    save() {\r\n        window.localStorage.setItem('featureFlags', JSON.stringify(this.toObject()));\r\n    }\r\n    toObject() {\r\n        return Array.from(this.entries()).reduce((obj, [key, value]) => ({ ...obj, [key]: value }), {});\r\n    }\r\n    toJSON() {\r\n        return JSON.stringify(this.toObject());\r\n    }\r\n    toString() {\r\n        return this.toJSON();\r\n    }\r\n}\r\nclass FeatureFlagsRegistry extends Array {\r\n    static from(entries) {\r\n        Array.from(entries).forEach(entry => validateFlagName(entry.name));\r\n        return new FeatureFlagsRegistry(...entries);\r\n    }\r\n    push(...entries) {\r\n        Array.from(entries).forEach(entry => validateFlagName(entry.name));\r\n        return super.push(...entries);\r\n    }\r\n    concat(...entries) {\r\n        const _concat = super.concat(...entries);\r\n        Array.from(_concat).forEach(entry => validateFlagName(entry.name));\r\n        return _concat;\r\n    }\r\n    toObject() {\r\n        return [...this.values()];\r\n    }\r\n    toJSON() {\r\n        return JSON.stringify(this.toObject());\r\n    }\r\n    toString() {\r\n        return this.toJSON();\r\n    }\r\n}\r\nclass FeatureFlags {\r\n    constructor() {\r\n        this.registeredFeatureFlags = [];\r\n    }\r\n    getFlags() {\r\n        if (!this.userFlags)\r\n            this.userFlags = UserFlags.load();\r\n        return this.userFlags;\r\n    }\r\n    getRegisteredFlags() {\r\n        return FeatureFlagsRegistry.from(this.registeredFeatureFlags);\r\n    }\r\n}\n\nclass Plugin {\r\n    constructor(config) {\r\n        this.config = config;\r\n    }\r\n    getId() {\r\n        return this.config.id;\r\n    }\r\n    output() {\r\n        if (this.storedOutput) {\r\n            return this.storedOutput;\r\n        }\r\n        if (!this.config.register) {\r\n            return [];\r\n        }\r\n        const outputs = new Array();\r\n        this.config.register({\r\n            router: {\r\n                registerRoute(path, component, options) {\r\n                    outputs.push({ type: 'route', path, component, options });\r\n                },\r\n                registerRedirect(path, target, options) {\r\n                    outputs.push({ type: 'redirect-route', path, target, options });\r\n                },\r\n            },\r\n            featureFlags: {\r\n                register(name) {\r\n                    validateBrowserCompat();\r\n                    validateFlagName(name);\r\n                    outputs.push({ type: 'feature-flag', name });\r\n                },\r\n            },\r\n        });\r\n        this.storedOutput = outputs;\r\n        return this.storedOutput;\r\n    }\r\n    toString() {\r\n        return `plugin{${this.config.id}}`;\r\n    }\r\n}\n\nfunction createApp() {\r\n    return new AppBuilder();\r\n}\r\nfunction createApiRef(config) {\r\n    return new ApiRef(config);\r\n}\r\nfunction createPlugin(config) {\r\n    return new Plugin(config);\r\n}\n\nconst useStyles$9 = makeStyles(theme => ({\r\n    root: {\r\n        textAlign: 'left',\r\n        margin: theme.spacing(2),\r\n        display: 'inline-block',\r\n    },\r\n    label: {\r\n        color: '#FFFFFF',\r\n        fontWeight: 'bold',\r\n        lineHeight: '16px',\r\n        letterSpacing: 0,\r\n        fontSize: 14,\r\n        height: '16px',\r\n        marginBottom: 2,\r\n    },\r\n    value: {\r\n        color: 'rgba(255, 255, 255, 0.8)',\r\n        lineHeight: '16px',\r\n        fontSize: 14,\r\n        height: '16px',\r\n    },\r\n}));\r\nconst HeaderLabelContent = ({ value, className, }) => React.createElement(Typography, { className: className }, value);\r\nconst HeaderLabel = ({ label, value, url }) => {\r\n    const classes = useStyles$9();\r\n    const content = (React.createElement(HeaderLabelContent, { className: classes.value, value: value || '<Unknown>' }));\r\n    return (React.createElement(\"span\", { className: classes.root },\r\n        React.createElement(Typography, { className: classes.label }, label),\r\n        url ? React.createElement(Link, { href: url }, content) : content));\r\n};\n\nconst useTabsStyles = makeStyles(theme => ({\r\n    root: {\r\n        padding: theme.spacing(0, 2, 0, 2.5),\r\n        minHeight: theme.spacing(3),\r\n    },\r\n    indicator: {\r\n        backgroundColor: theme.palette.info.main,\r\n        height: theme.spacing(0.3),\r\n    },\r\n}));\r\nconst BoldHeader$1 = withStyles(theme => ({\r\n    root: { padding: theme.spacing(2, 2, 2, 2.5), display: 'inline-block' },\r\n    title: { fontWeight: 700 },\r\n    subheader: { paddingTop: theme.spacing(1) },\r\n}))(CardHeader);\r\nconst TabbedCard = ({ slackChannel = '#backstage', children, title, deepLink, value, onChange, }) => {\r\n    const tabsClasses = useTabsStyles();\r\n    const [selectedIndex, selectIndex] = useState(0);\r\n    const handleChange = onChange\r\n        ? onChange\r\n        : (_ev, newSelectedIndex) => selectIndex(newSelectedIndex);\r\n    let selectedTabContent;\r\n    if (!value) {\r\n        React.Children.map(children, (child, index) => {\r\n            if (index === selectedIndex)\r\n                selectedTabContent = child === null || child === void 0 ? void 0 : child.props.children;\r\n        });\r\n    }\r\n    else {\r\n        React.Children.map(children, child => {\r\n            if ((child === null || child === void 0 ? void 0 : child.props.value) === value)\r\n                selectedTabContent = child === null || child === void 0 ? void 0 : child.props.children;\r\n        });\r\n    }\r\n    return (React.createElement(Card, null,\r\n        React.createElement(ErrorBoundary, { slackChannel: slackChannel },\r\n            title && React.createElement(BoldHeader$1, { title: title }),\r\n            React.createElement(Tabs, { classes: tabsClasses, value: value || selectedIndex, onChange: handleChange }, children),\r\n            React.createElement(Divider, null),\r\n            React.createElement(CardContent, null, selectedTabContent),\r\n            deepLink && React.createElement(BottomLink, Object.assign({}, deepLink)))));\r\n};\r\nconst useCardTabStyles = makeStyles(theme => ({\r\n    root: {\r\n        minWidth: theme.spacing(6),\r\n        minHeight: theme.spacing(3),\r\n        margin: theme.spacing(0, 2, 0, 0),\r\n        padding: theme.spacing(0.5, 0, 0.5, 0),\r\n        textTransform: 'none',\r\n    },\r\n    selected: {\r\n        fontWeight: 'bold',\r\n    },\r\n}));\r\nconst CardTab = ({ children, ...props }) => {\r\n    const classes = useCardTabStyles();\r\n    return React.createElement(Tab, Object.assign({ disableRipple: true, classes: classes }, props));\r\n};\n\nconst sidebarConfig = {\r\n    drawerWidthClosed: 64,\r\n    drawerWidthOpen: 220,\r\n    defaultOpenDelayMs: 400,\r\n    defaultCloseDelayMs: 200,\r\n};\r\nconst SidebarContext = createContext(false);\n\nconst useStyles$a = makeStyles(theme => ({\r\n    root: {\r\n        zIndex: 1000,\r\n        position: 'relative',\r\n        overflow: 'visible',\r\n        width: theme.spacing(7) + 1,\r\n    },\r\n    drawer: {\r\n        display: 'flex',\r\n        flexFlow: 'column nowrap',\r\n        alignItems: 'flex-start',\r\n        position: 'fixed',\r\n        left: 0,\r\n        top: 0,\r\n        bottom: 0,\r\n        padding: 0,\r\n        background: theme.palette.sidebar,\r\n        overflowX: 'hidden',\r\n        width: sidebarConfig.drawerWidthClosed,\r\n        transition: theme.transitions.create('width', {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.shortest,\r\n        }),\r\n    },\r\n    drawerOpen: {\r\n        width: sidebarConfig.drawerWidthOpen,\r\n        transition: theme.transitions.create('width', {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.shorter,\r\n        }),\r\n    },\r\n    drawerPeek: {\r\n        width: sidebarConfig.drawerWidthClosed + 4,\r\n    },\r\n}));\r\nvar State;\r\n(function (State) {\r\n    State[State[\"Closed\"] = 0] = \"Closed\";\r\n    State[State[\"Peek\"] = 1] = \"Peek\";\r\n    State[State[\"Open\"] = 2] = \"Open\";\r\n})(State || (State = {}));\r\nconst Sidebar = ({ openDelayMs = sidebarConfig.defaultOpenDelayMs, closeDelayMs = sidebarConfig.defaultCloseDelayMs, children, }) => {\r\n    const classes = useStyles$a();\r\n    const [state, setState] = useState(State.Closed);\r\n    const hoverTimerRef = useRef();\r\n    const handleOpen = () => {\r\n        if (hoverTimerRef.current) {\r\n            clearTimeout(hoverTimerRef.current);\r\n            hoverTimerRef.current = undefined;\r\n        }\r\n        if (state !== State.Open) {\r\n            hoverTimerRef.current = setTimeout(() => {\r\n                hoverTimerRef.current = undefined;\r\n                setState(State.Open);\r\n            }, openDelayMs);\r\n            setState(State.Peek);\r\n        }\r\n    };\r\n    const handleClose = () => {\r\n        if (hoverTimerRef.current) {\r\n            clearTimeout(hoverTimerRef.current);\r\n            hoverTimerRef.current = undefined;\r\n        }\r\n        if (state === State.Peek) {\r\n            setState(State.Closed);\r\n        }\r\n        else if (state === State.Open) {\r\n            hoverTimerRef.current = setTimeout(() => {\r\n                hoverTimerRef.current = undefined;\r\n                setState(State.Closed);\r\n            }, closeDelayMs);\r\n        }\r\n    };\r\n    return (React.createElement(\"div\", { className: classes.root, onMouseEnter: handleOpen, onFocus: handleOpen, onMouseLeave: handleClose, onBlur: handleClose, \"data-testid\": \"sidebar-root\" },\r\n        React.createElement(SidebarContext.Provider, { value: state === State.Open },\r\n            React.createElement(\"div\", { className: clsx(classes.drawer, {\r\n                    [classes.drawerPeek]: state === State.Peek,\r\n                    [classes.drawerOpen]: state === State.Open,\r\n                }) }, children))));\r\n};\n\nconst useStyles$b = makeStyles({\r\n    root: {\r\n        width: '100%',\r\n        minHeight: '100%',\r\n        paddingLeft: sidebarConfig.drawerWidthClosed,\r\n    },\r\n});\r\nconst SidebarPage = ({ children }) => {\r\n    const classes = useStyles$b();\r\n    return React.createElement(\"div\", { className: classes.root }, children);\r\n};\n\nconst useStyles$c = makeStyles(theme => ({\r\n    root: {\r\n        color: '#b5b5b5',\r\n        display: 'flex',\r\n        flexFlow: 'row nowrap',\r\n        alignItems: 'center',\r\n        height: 40,\r\n        cursor: 'pointer',\r\n    },\r\n    closed: {\r\n        width: sidebarConfig.drawerWidthClosed,\r\n        justifyContent: 'center',\r\n    },\r\n    open: {\r\n        width: sidebarConfig.drawerWidthOpen,\r\n    },\r\n    label: {\r\n        fontWeight: 'bolder',\r\n        whiteSpace: 'nowrap',\r\n        lineHeight: 1.0,\r\n        marginLeft: theme.spacing(1),\r\n    },\r\n    iconContainer: {\r\n        height: '100%',\r\n        width: sidebarConfig.drawerWidthClosed,\r\n        marginRight: -theme.spacing(2),\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n}));\r\nconst SidebarItem = ({ icon: Icon, text, to, onClick, }) => {\r\n    const classes = useStyles$c();\r\n    const isOpen = useContext(SidebarContext);\r\n    if (!isOpen) {\r\n        return (React.createElement(Link, { className: clsx(classes.root, classes.closed), href: to, onClick: onClick, underline: \"none\" },\r\n            React.createElement(Icon, { fontSize: \"small\" })));\r\n    }\r\n    return (React.createElement(Link, { className: clsx(classes.root, classes.open), href: to, onClick: onClick, underline: \"none\" },\r\n        React.createElement(\"div\", { \"data-testid\": \"login-button\", className: classes.iconContainer },\r\n            React.createElement(Icon, { fontSize: \"small\" })),\r\n        React.createElement(Typography, { variant: \"subtitle1\", className: classes.label }, text)));\r\n};\r\nconst SidebarSpace = styled('div')({\r\n    flex: 1,\r\n});\r\nconst SidebarSpacer = styled('div')({\r\n    height: 8,\r\n});\r\nconst SidebarDivider = styled('hr')({\r\n    height: 1,\r\n    width: '100%',\r\n    background: '#383838',\r\n    border: 'none',\r\n});\n\nconst generateGradientStops = (themeType) => {\r\n    const luminance = themeType === 'dark' ? '16%' : '97%';\r\n    return `\n    hsl(0, 0%, ${luminance}) 0%,\n    hsla(0, 0%, ${luminance}, 0.987) 8.1%,\n    hsla(0, 0%, ${luminance}, 0.951) 15.5%,\n    hsla(0, 0%, ${luminance}, 0.896) 22.5%,\n    hsla(0, 0%, ${luminance}, 0.825) 29%,\n    hsla(0, 0%, ${luminance}, 0.741) 35.3%,\n    hsla(0, 0%, ${luminance}, 0.648) 41.2%,\n    hsla(0, 0%, ${luminance}, 0.55) 47.1%,\n    hsla(0, 0%, ${luminance}, 0.45) 52.9%,\n    hsla(0, 0%, ${luminance}, 0.352) 58.8%,\n    hsla(0, 0%, ${luminance}, 0.259) 64.7%,\n    hsla(0, 0%, ${luminance}, 0.175) 71%,\n    hsla(0, 0%, ${luminance}, 0.104) 77.5%,\n    hsla(0, 0%, ${luminance}, 0.049) 84.5%,\n    hsla(0, 0%, ${luminance}, 0.013) 91.9%,\n    hsla(0, 0%, ${luminance}, 0) 100%\n  `;\r\n};\r\nconst fadeSize = 100;\r\nconst fadePadding = 10;\r\nconst useStyles$d = makeStyles(theme => ({\r\n    root: {\r\n        position: 'relative',\r\n        display: 'flex',\r\n        flexFlow: 'row nowrap',\r\n        alignItems: 'center',\r\n    },\r\n    container: {\r\n        overflow: 'auto',\r\n        scrollbarWidth: 0,\r\n        '&::-webkit-scrollbar': {\r\n            display: 'none',\r\n        },\r\n    },\r\n    fade: {\r\n        position: 'absolute',\r\n        width: fadeSize,\r\n        height: `calc(100% + ${fadePadding}px)`,\r\n        transition: 'opacity 300ms',\r\n        pointerEvents: 'none',\r\n    },\r\n    fadeLeft: {\r\n        left: -fadePadding,\r\n        background: `linear-gradient(90deg, ${generateGradientStops(theme.palette.type)})`,\r\n    },\r\n    fadeRight: {\r\n        right: -fadePadding,\r\n        background: `linear-gradient(270deg, ${generateGradientStops(theme.palette.type)})`,\r\n    },\r\n    fadeHidden: {\r\n        opacity: 0,\r\n    },\r\n    button: {\r\n        position: 'absolute',\r\n    },\r\n    buttonLeft: {\r\n        left: -theme.spacing(2),\r\n    },\r\n    buttonRight: {\r\n        right: -theme.spacing(2),\r\n    },\r\n}));\r\nfunction useScrollDistance(ref) {\r\n    const [[scrollLeft, scrollRight], setScroll] = React.useState([0, 0]);\r\n    React.useLayoutEffect(() => {\r\n        const el = ref.current;\r\n        if (!el) {\r\n            setScroll([0, 0]);\r\n            return;\r\n        }\r\n        const handleUpdate = () => {\r\n            const left = el.scrollLeft;\r\n            const right = el.scrollWidth - el.offsetWidth - el.scrollLeft;\r\n            setScroll([left, right]);\r\n        };\r\n        handleUpdate();\r\n        el.addEventListener('scroll', handleUpdate);\r\n        window.addEventListener('resize', handleUpdate);\r\n        return () => {\r\n            el.removeEventListener('scroll', handleUpdate);\r\n            window.removeEventListener('resize', handleUpdate);\r\n        };\r\n    }, [ref]);\r\n    return [scrollLeft, scrollRight];\r\n}\r\nfunction useSmoothScroll(ref, speed, minDistance) {\r\n    const [scrollTarget, setScrollTarget] = React.useState(0);\r\n    React.useLayoutEffect(() => {\r\n        if (scrollTarget === 0) {\r\n            return;\r\n        }\r\n        const startTime = performance.now();\r\n        const id = requestAnimationFrame(frameTime => {\r\n            if (!ref.current) {\r\n                return;\r\n            }\r\n            const frameDuration = frameTime - startTime;\r\n            const scrollDistance = (Math.abs(scrollTarget) * frameDuration) / speed;\r\n            const cappedScrollDistance = Math.max(minDistance, scrollDistance);\r\n            const scrollAmount = cappedScrollDistance * Math.sign(scrollTarget);\r\n            ref.current.scrollBy({ left: scrollAmount });\r\n            const newScrollTarget = scrollTarget - scrollAmount;\r\n            if (Math.sign(scrollTarget) !== Math.sign(newScrollTarget)) {\r\n                setScrollTarget(0);\r\n            }\r\n            else {\r\n                setScrollTarget(newScrollTarget);\r\n            }\r\n        });\r\n        return () => cancelAnimationFrame(id);\r\n    }, [ref, scrollTarget, speed, minDistance]);\r\n    return setScrollTarget;\r\n}\r\nconst HorizontalScrollGrid = props => {\r\n    const { scrollStep = 100, scrollSpeed = 50, minScrollDistance = 5, children, ...otherProps } = props;\r\n    const classes = useStyles$d(props);\r\n    const ref = React.useRef();\r\n    const [scrollLeft, scrollRight] = useScrollDistance(ref);\r\n    const setScrollTarget = useSmoothScroll(ref, scrollSpeed, minScrollDistance);\r\n    const handleScrollClick = (forwards) => {\r\n        const el = ref.current;\r\n        if (!el) {\r\n            return;\r\n        }\r\n        setScrollTarget(forwards ? scrollStep : -scrollStep);\r\n    };\r\n    return (React.createElement(\"div\", Object.assign({}, otherProps, { className: classes.root }),\r\n        React.createElement(Grid, { container: true, direction: \"row\", wrap: \"nowrap\", className: classes.container, ref: ref }, children),\r\n        React.createElement(\"div\", { className: classNames(classes.fade, classes.fadeLeft, {\r\n                [classes.fadeHidden]: scrollLeft === 0,\r\n            }) }),\r\n        React.createElement(\"div\", { className: classNames(classes.fade, classes.fadeRight, {\r\n                [classes.fadeHidden]: scrollRight === 0,\r\n            }) }),\r\n        scrollLeft > 0 && (React.createElement(IconButton, { title: \"Scroll Left\", onClick: () => handleScrollClick(false), className: classNames(classes.button, classes.buttonLeft, {}) },\r\n            React.createElement(ChevronLeftIcon, null))),\r\n        scrollRight > 0 && (React.createElement(IconButton, { title: \"Scroll Right\", onClick: () => handleScrollClick(true), className: classNames(classes.button, classes.buttonRight, {}) },\r\n            React.createElement(ChevronRightIcon, null)))));\r\n};\n\nconst useStyles$e = makeStyles(theme => ({\r\n    root: {\r\n        position: 'relative',\r\n        lineHeight: 0,\r\n    },\r\n    overlay: {\r\n        position: 'absolute',\r\n        top: '50%',\r\n        left: '50%',\r\n        transform: 'translate(-50%, -60%)',\r\n        fontSize: 45,\r\n        fontWeight: 'bold',\r\n        color: theme.palette.textContrast,\r\n    },\r\n    circle: {\r\n        width: '80%',\r\n        transform: 'translate(10%, 0)',\r\n    },\r\n    colorUnknown: {},\r\n}));\r\nconst defaultProps = {\r\n    fractional: true,\r\n    inverse: false,\r\n    unit: '%',\r\n    max: 100,\r\n};\r\nfunction getProgressColor(palette, value, inverse, max) {\r\n    if (isNaN(value)) {\r\n        return '#ddd';\r\n    }\r\n    const actualMax = max ? max : defaultProps.max;\r\n    const actualValue = inverse ? actualMax - value : value;\r\n    if (actualValue < actualMax / 3) {\r\n        return palette.status.error;\r\n    }\r\n    else if (actualValue < actualMax * (2 / 3)) {\r\n        return palette.status.warning;\r\n    }\r\n    return palette.status.ok;\r\n}\r\nconst CircleProgress = props => {\r\n    const classes = useStyles$e(props);\r\n    const theme = useTheme();\r\n    const { value, fractional, inverse, unit, max } = {\r\n        ...defaultProps,\r\n        ...props,\r\n    };\r\n    const asPercentage = fractional ? Math.round(value * max) : value;\r\n    const asActual = max !== 100 ? Math.round(value) : asPercentage;\r\n    return (React.createElement(\"div\", { className: classes.root },\r\n        React.createElement(Circle, { strokeLinecap: \"butt\", percent: asPercentage, strokeWidth: 12, trailWidth: 12, strokeColor: getProgressColor(theme.palette, asActual, inverse, max), className: classes.circle }),\r\n        React.createElement(\"div\", { className: classes.overlay }, isNaN(value) ? 'N/A' : `${asActual}${unit}`)));\r\n};\n\nconst useStyles$f = makeStyles({\r\n    root: {\r\n        height: '100%',\r\n        width: 250,\r\n    },\r\n});\r\nconst ProgressCard = props => {\r\n    const classes = useStyles$f(props);\r\n    const { title, subheader, progress, deepLink, variant } = props;\r\n    return (React.createElement(\"div\", { className: classes.root },\r\n        React.createElement(InfoCard, { title: title, subheader: subheader, deepLink: deepLink, variant: variant },\r\n            React.createElement(CircleProgress, { value: progress }))));\r\n};\n\nconst HorizontalProgress = ({ value }) => {\r\n    if (isNaN(value)) {\r\n        return null;\r\n    }\r\n    let percent = Math.round(value * 100 * 100) / 100;\r\n    if (percent > 100) {\r\n        percent = 100;\r\n    }\r\n    const theme = useTheme();\r\n    const strokeColor = getProgressColor(theme.palette, percent, false, 100);\r\n    return (React.createElement(Tooltip, { title: `${percent}%` },\r\n        React.createElement(Line, { percent: percent, strokeWidth: 4, trailWidth: 4, strokeColor: strokeColor })));\r\n};\n\nconst useStyles$g = makeStyles(theme => ({\r\n    button: {\r\n        '&:hover': {\r\n            backgroundColor: theme.palette.highlight,\r\n            cursor: 'pointer',\r\n        },\r\n    },\r\n}));\r\nconst defaultProps$1 = {\r\n    tooltipDelay: 1000,\r\n    tooltipText: 'Text copied to clipboard',\r\n};\r\nconst CopyTextButton = props => {\r\n    const { text, tooltipDelay, tooltipText } = {\r\n        ...defaultProps$1,\r\n        ...props,\r\n    };\r\n    const classes = useStyles$g(props);\r\n    const errorApi = useApi(errorApiRef);\r\n    const inputRef = useRef(null);\r\n    const [open, setOpen] = useState(false);\r\n    const handleCopyClick = e => {\r\n        e.stopPropagation();\r\n        setOpen(true);\r\n        try {\r\n            if (inputRef.current) {\r\n                inputRef.current.select();\r\n                document.execCommand('copy');\r\n            }\r\n        }\r\n        catch (error) {\r\n            errorApi.post(error);\r\n        }\r\n    };\r\n    return (React.createElement(React.Fragment, null,\r\n        React.createElement(\"input\", { ref: inputRef, type: \"text\", style: { position: 'absolute', top: -9999, left: 9999 }, defaultValue: text }),\r\n        React.createElement(Tooltip, { id: \"copy-test-tooltip\", title: tooltipText, placement: \"top\", leaveDelay: tooltipDelay, onClose: () => setOpen(false), open: open },\r\n            React.createElement(IconButton, { onClick: handleCopyClick, className: classes.button },\r\n                React.createElement(CopyIcon, null)))));\r\n};\r\nCopyTextButton.propTypes = {\r\n    text: PropTypes.string.isRequired,\r\n    tooltipDelay: PropTypes.number,\r\n    tooltipText: PropTypes.string,\r\n};\n\nconst Progress = props => {\r\n    const [isVisible, setIsVisible] = useState(false);\r\n    useEffect(() => {\r\n        const handle = setTimeout(() => setIsVisible(true), 250);\r\n        return () => clearTimeout(handle);\r\n    }, []);\r\n    return isVisible ? (React.createElement(LinearProgress, Object.assign({}, props, { \"data-testid\": \"progress\" }))) : (React.createElement(\"div\", { style: { display: 'none' }, \"data-testid\": \"progress\" }));\r\n};\n\nconst noop = () => { };\r\nconst VerticalStepperContext = React.createContext({\r\n    stepperLength: 0,\r\n    stepIndex: 0,\r\n    setStepIndex: noop,\r\n    stepHistory: [],\r\n    setStepHistory: noop,\r\n    onStepChange: noop,\r\n});\r\nconst Stepper = ({ children, elevated, onStepChange }) => {\r\n    const [stepIndex, setStepIndex] = useState(0);\r\n    const [stepHistory, setStepHistory] = useState([]);\r\n    const steps = [];\r\n    let endStep;\r\n    Children.forEach(children, (child) => {\r\n        if (isValidElement(child)) {\r\n            if (child.props.end) {\r\n                endStep = child;\r\n            }\r\n            else {\r\n                steps.push(child);\r\n            }\r\n        }\r\n    });\r\n    return (React.createElement(React.Fragment, null,\r\n        React.createElement(VerticalStepperContext.Provider, { value: {\r\n                stepIndex,\r\n                setStepIndex,\r\n                stepHistory,\r\n                setStepHistory,\r\n                onStepChange,\r\n                stepperLength: Children.count(children),\r\n            } },\r\n            React.createElement(Stepper$1, { activeStep: stepIndex, orientation: \"vertical\", elevation: elevated ? 2 : 0 }, steps)),\r\n        stepIndex >= Children.count(children) - 1 && endStep));\r\n};\n\nconst useStyles$h = makeStyles((theme) => ({\r\n    root: {\r\n        marginTop: theme.spacing(3),\r\n        '& button': {\r\n            marginRight: theme.spacing(1),\r\n        },\r\n    },\r\n}));\r\nconst RestartBtn = ({ text, handleClick }) => (React.createElement(Button, { onClick: handleClick }, text || 'Reset'));\r\nconst NextBtn = ({ text, handleClick, disabled, last, stepIndex }) => (React.createElement(Button, { variant: \"contained\", color: \"primary\", disabled: disabled, \"data-testid\": `nextButton-${stepIndex}`, onClick: handleClick }, text || (last ? 'Finish' : 'Next')));\r\nconst BackBtn = ({ text, handleClick, disabled, stepIndex }) => (React.createElement(Button, { onClick: handleClick, \"data-testid\": `backButton-${stepIndex}`, disabled: disabled }, text || 'Back'));\r\nconst SimpleStepperFooter = ({ actions = {}, children, }) => {\r\n    const classes = useStyles$h();\r\n    const { stepperLength, stepIndex, setStepIndex, stepHistory, setStepHistory, onStepChange, } = useContext(VerticalStepperContext);\r\n    const onChange = (newIndex, callback) => {\r\n        if (callback) {\r\n            callback();\r\n        }\r\n        if (onStepChange) {\r\n            onStepChange(stepIndex, newIndex);\r\n        }\r\n        setStepIndex(newIndex);\r\n    };\r\n    const handleNext = () => {\r\n        const newIndex = actions.nextStep\r\n            ? actions.nextStep(stepIndex, stepperLength - 1)\r\n            : stepIndex + 1;\r\n        onChange(newIndex, actions.onNext);\r\n        setStepHistory([...stepHistory, newIndex]);\r\n    };\r\n    const handleBack = () => {\r\n        stepHistory.pop();\r\n        onChange(stepHistory[stepHistory.length - 1], actions.onBack);\r\n        setStepHistory([...stepHistory]);\r\n    };\r\n    const handleRestart = () => {\r\n        onChange(0, actions.onRestart);\r\n        setStepHistory([0]);\r\n    };\r\n    return (React.createElement(\"div\", { className: classes.root },\r\n        [undefined, true].includes(actions.showBack) && stepIndex !== 0 && (React.createElement(BackBtn, { text: actions.backText, handleClick: handleBack, disabled: stepIndex === 0, stepIndex: stepIndex })),\r\n        [undefined, true].includes(actions.showNext) && (React.createElement(NextBtn, { text: actions.nextText, handleClick: handleNext, disabled: (!!stepperLength && stepIndex >= stepperLength) ||\r\n                (!!actions.canNext && !actions.canNext()), stepIndex: stepIndex })),\r\n        actions.showRestart && stepIndex !== 0 && (React.createElement(RestartBtn, { text: actions.restartText, handleClick: handleRestart, stepIndex: stepIndex })),\r\n        children));\r\n};\n\nconst useStyles$i = makeStyles((theme) => ({\r\n    end: {\r\n        padding: theme.spacing(3),\r\n    },\r\n}));\r\nconst Step = ({ title, children, end, actions, ...muiProps }) => {\r\n    const classes = useStyles$i();\r\n    return end ? (React.createElement(\"div\", { className: classes.end },\r\n        React.createElement(Typography, { variant: \"h6\" }, title),\r\n        children,\r\n        React.createElement(SimpleStepperFooter, { actions: { ...(actions || {}), showNext: false } }))) : (React.createElement(Step$1, Object.assign({}, muiProps),\r\n        React.createElement(StepLabel, null,\r\n            React.createElement(Typography, { variant: \"h6\" }, title)),\r\n        React.createElement(StepContent, null,\r\n            children,\r\n            React.createElement(SimpleStepperFooter, { actions: actions }))));\r\n};\n\nconst useStyles$j = makeStyles({\r\n    alpha: {\r\n        color: '#d00150',\r\n        fontFamily: 'serif',\r\n        fontWeight: 'normal',\r\n        fontStyle: 'italic',\r\n    },\r\n    beta: {\r\n        color: '#4d65cc',\r\n        fontFamily: 'serif',\r\n        fontWeight: 'normal',\r\n        fontStyle: 'italic',\r\n    },\r\n});\r\nconst AlphaLabel = props => {\r\n    const classes = useStyles$j(props);\r\n    const { isShorthand } = props;\r\n    return isShorthand ? (React.createElement(\"span\", { className: classes.alpha, style: { fontSize: '120%' } }, \"\\u03B1\")) : (React.createElement(\"span\", { className: classes.alpha }, \"Alpha\"));\r\n};\r\nconst BetaLabel = props => {\r\n    const classes = useStyles$j(props);\r\n    const { isShorthand } = props;\r\n    return isShorthand ? (React.createElement(\"span\", { className: classes.beta, style: { fontSize: '120%' } }, \"\\u03B2\")) : (React.createElement(\"span\", { className: classes.beta }, \"Beta\"));\r\n};\n\nconst useStyles$k = makeStyles(theme => ({\r\n    leftIcon: {\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    popoverList: {\r\n        minWidth: 260,\r\n        maxWidth: 320,\r\n    },\r\n}));\r\nconst SupportButton = ({ slackChannel = '#backstage', email = [], children, }) => {\r\n    const [popoverOpen, setPopoverOpen] = useState(false);\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n    const classes = useStyles$k();\r\n    const onClickHandler = event => {\r\n        setAnchorEl(event.currentTarget);\r\n        setPopoverOpen(true);\r\n    };\r\n    const popoverCloseHandler = () => {\r\n        setPopoverOpen(false);\r\n    };\r\n    const slackChannels = Array.isArray(slackChannel)\r\n        ? slackChannel\r\n        : [slackChannel];\r\n    const contactEmails = Array.isArray(email) ? email : [email];\r\n    return (React.createElement(Fragment, null,\r\n        React.createElement(Button, { \"data-testid\": \"support-button\", color: \"primary\", onClick: onClickHandler },\r\n            React.createElement(HelpIcon, { className: classes.leftIcon }),\r\n            \"Support\"),\r\n        React.createElement(Popover, { open: popoverOpen, anchorEl: anchorEl, anchorOrigin: {\r\n                vertical: 'bottom',\r\n                horizontal: 'right',\r\n            }, transformOrigin: {\r\n                vertical: 'top',\r\n                horizontal: 'right',\r\n            }, onClose: popoverCloseHandler },\r\n            React.createElement(List, { className: classes.popoverList },\r\n                React.Children.map(children, (child, i) => (React.createElement(ListItem, { alignItems: \"flex-start\", key: i }, child))),\r\n                slackChannels && (React.createElement(ListItem, null,\r\n                    React.createElement(ListItemIcon, null,\r\n                        React.createElement(GroupIcon, null)),\r\n                    React.createElement(ListItemText, { primary: \"Support\", secondary: React.createElement(\"div\", null, slackChannels.map((channel, i) => (React.createElement(Link, { key: i }, channel)))) }))),\r\n                contactEmails.length > 0 && (React.createElement(ListItem, null,\r\n                    React.createElement(ListItemIcon, null,\r\n                        React.createElement(GroupIcon, null)),\r\n                    React.createElement(ListItemText, { primary: \"Contact\", secondary: React.createElement(\"div\", null, contactEmails.map((em, index) => (React.createElement(Typography, { key: index },\r\n                            React.createElement(Link, null, em))))) })))))));\r\n};\n\nconst EnhancedTableHead = ({ columns, onRequestSort, order, orderBy, }) => {\r\n    const createSortHandler = (property) => (event) => {\r\n        onRequestSort(event, property);\r\n    };\r\n    return (React.createElement(TableHead, null,\r\n        React.createElement(TableRow, null, columns.map(column => (React.createElement(TableCell, { key: column.id, align: column.numeric ? 'right' : 'left', size: column.disablePadding ? 'small' : 'medium', sortDirection: orderBy === column.id ? order : false, style: column.style },\r\n            React.createElement(Tooltip, { title: \"Sort\", placement: column.numeric ? 'bottom-end' : 'bottom-start', enterDelay: 300 },\r\n                React.createElement(TableSortLabel, { active: orderBy === column.id, direction: order, onClick: createSortHandler(column.id), style: { whiteSpace: 'nowrap' } }, column.label))))))));\r\n};\r\nconst CellContent = ({ data }) => {\r\n    if (Array.isArray(data)) {\r\n        return data.map((item, index) => (React.createElement(\"span\", { key: index },\r\n            item,\r\n            React.createElement(\"br\", null))));\r\n    }\r\n    return data;\r\n};\r\nconst DataTableCell = ({ column, row }) => {\r\n    return (React.createElement(TableCell, { align: column.numeric ? 'right' : 'left', key: column.id, style: { verticalAlign: 'top' } },\r\n        React.createElement(CellContent, { data: row[column.id] || '' })));\r\n};\r\nconst noop$1 = () => { };\r\nconst _DataTableRow = ({ row, columns, handleRowClick, style, }) => {\r\n    const onClick = event => (handleRowClick || noop$1)(event, row.id);\r\n    return (React.createElement(TableRow, { onClick: onClick, key: row.id, style: style }, columns.map(column => (React.createElement(DataTableCell, { key: column.id, column: column, row: row })))));\r\n};\r\nconst DataTableRow = memo(_DataTableRow);\r\nconst SortableTable = props => {\r\n    const [state, setState] = useState({\r\n        orderBy: props.orderBy,\r\n        order: 'asc',\r\n        data: props.data,\r\n    });\r\n    const updateData = (data, orderBy, order) => {\r\n        const sortValueFn = (props.columns.find(col => col.id === orderBy) || {})\r\n            .sortValue;\r\n        const sortedData = data.slice().sort((a, b) => {\r\n            const valueA = sortValueFn ? sortValueFn(a) : a[orderBy];\r\n            const valueB = sortValueFn ? sortValueFn(b) : b[orderBy];\r\n            const inc = order === 'desc' ? -1 : 1;\r\n            if (valueA === valueB)\r\n                return 0;\r\n            if (valueA === '' || valueA === null)\r\n                return inc;\r\n            if (valueB === '' || valueB === null)\r\n                return -inc;\r\n            return valueA < valueB ? -inc : inc;\r\n        });\r\n        setState({ data: sortedData, order, orderBy });\r\n    };\r\n    const handleRequestSort = (event, property) => {\r\n        event.preventDefault();\r\n        const orderBy = property;\r\n        let order = 'desc';\r\n        if (state.orderBy === property && state.order === 'desc') {\r\n            order = 'asc';\r\n        }\r\n        updateData(state.data, orderBy, order);\r\n    };\r\n    const handleRowClick = (event, id) => {\r\n        if (props.onRowClicked) {\r\n            props.onRowClicked(id, event);\r\n        }\r\n    };\r\n    useEffect(() => {\r\n        const { data } = props;\r\n        const { orderBy, order } = state;\r\n        updateData(data, orderBy, order);\r\n    }, [props.dataVersion]);\r\n    const { data, order, orderBy } = state;\r\n    const { columns, dataVersion, footerData } = props;\r\n    let tableFoot = null;\r\n    if (footerData && footerData.length > 0) {\r\n        tableFoot = (React.createElement(TableFooter, null, footerData.map(row => (React.createElement(DataTableRow, { key: row.id, columns: columns, row: row, style: { height: 'auto' } })))));\r\n    }\r\n    return (React.createElement(Table, null,\r\n        React.createElement(EnhancedTableHead, { columns: columns, onRequestSort: handleRequestSort, order: order, orderBy: orderBy }),\r\n        React.createElement(TableBody, { key: dataVersion }, data.map(row => (React.createElement(DataTableRow, { key: row.id, columns: columns, row: row, handleRowClick: handleRowClick })))),\r\n        tableFoot));\r\n};\n\nconst tableTitleCellStyles = theme => ({\r\n    root: {\r\n        fontWeight: 'bolder',\r\n        whiteSpace: 'nowrap',\r\n        paddingRight: theme.spacing(4),\r\n        border: '0',\r\n        verticalAlign: 'top',\r\n    },\r\n});\r\nconst tableContentCellStyles = {\r\n    root: {\r\n        color: 'rgba(0, 0, 0, 0.6)',\r\n        border: '0',\r\n        verticalAlign: 'top',\r\n    },\r\n};\r\nconst listStyles = theme => ({\r\n    root: {\r\n        listStyle: 'none',\r\n        margin: theme.spacing(0, 0, -1, 0),\r\n        padding: '0',\r\n    },\r\n});\r\nconst listItemStyles = theme => ({\r\n    root: {\r\n        padding: theme.spacing(0, 0, 1, 0),\r\n    },\r\n});\r\nconst TitleCell = withStyles(tableTitleCellStyles)(TableCell);\r\nconst ContentCell = withStyles(tableContentCellStyles)(TableCell);\r\nconst MetadataTable = ({ dense, children }) => (React.createElement(Table, null,\r\n    !dense && (React.createElement(\"colgroup\", null,\r\n        React.createElement(\"col\", { style: { width: 'auto' } }),\r\n        React.createElement(\"col\", { style: { width: '100%' } }))),\r\n    React.createElement(TableBody, null, children)));\r\nconst MetadataTableItem = ({ title, children, ...rest }) => (React.createElement(TableRow, null,\r\n    title && React.createElement(TitleCell, null, title),\r\n    React.createElement(ContentCell, Object.assign({ colSpan: title ? 1 : 2 }, rest), children)));\r\nconst MetadataList = withStyles(listStyles)(({ classes, children }) => (React.createElement(\"ul\", { className: classes.root }, children)));\r\nconst MetadataListItem = withStyles(listItemStyles)(({ classes, children }) => React.createElement(\"li\", { className: classes.root }, children));\n\nconst listStyle = {\r\n    root: {\r\n        margin: '0 0',\r\n        listStyleType: 'none',\r\n    },\r\n};\r\nconst nestedListStyle = {\r\n    root: {\r\n        ...listStyle.root,\r\n        paddingLeft: '8px',\r\n    },\r\n};\r\nfunction renderList(list, options, nested) {\r\n    const values = list.map((item, index) => (React.createElement(MetadataListItem, { key: index }, toValue(item))));\r\n    return nested ? (React.createElement(StyledNestedList, null, values)) : (React.createElement(StyledList, null, values));\r\n}\r\nfunction renderMap(map, options, nested) {\r\n    const values = Object.keys(map).map(key => {\r\n        const value = toValue(map[key], true);\r\n        const fmtKey = options && options.titleFormat\r\n            ? options.titleFormat(key)\r\n            : startCase(key);\r\n        return (React.createElement(MetadataListItem, { key: key },\r\n            `${fmtKey}: `,\r\n            value));\r\n    });\r\n    return nested ? (React.createElement(StyledNestedList, null, values)) : (React.createElement(StyledList, null, values));\r\n}\r\nfunction toValue(value, options, nested) {\r\n    if (React.isValidElement(value)) {\r\n        return React.createElement(Fragment, null, value);\r\n    }\r\n    if (typeof value === 'object' && !Array.isArray(value)) {\r\n        return renderMap(value, options, nested);\r\n    }\r\n    if (Array.isArray(value)) {\r\n        return renderList(value, options, nested);\r\n    }\r\n    return React.createElement(Fragment, null, value);\r\n}\r\nfunction mapToItems(info, options) {\r\n    return Object.keys(info).map(key => (React.createElement(TableItem, { key: key, title: key, value: info[key], options: options })));\r\n}\r\nconst StyledList = withStyles(listStyle)(({ classes, children }) => (React.createElement(MetadataList, { classes: classes }, children)));\r\nconst StyledNestedList = withStyles(nestedListStyle)(({ classes, children }) => (React.createElement(MetadataList, { classes: classes }, children)));\r\nconst ItemValue = ({ value, options }) => (React.createElement(Fragment, null, toValue(value, options)));\r\nconst TableItem = ({ title, value, options }) => {\r\n    return (React.createElement(MetadataTableItem, { title: options && options.titleFormat\r\n            ? options.titleFormat(title)\r\n            : startCase(title) },\r\n        React.createElement(ItemValue, { value: value, options: options })));\r\n};\r\nclass StructuredMetadataTable extends Component {\r\n    render() {\r\n        const { metadata, dense, options } = this.props;\r\n        const metadataItems = mapToItems(metadata, options || {});\r\n        return React.createElement(MetadataTable, { dense: dense }, metadataItems);\r\n    }\r\n}\n\nfunction color(data, theme) {\r\n    const lastNum = data[data.length - 1];\r\n    if (!lastNum)\r\n        return undefined;\r\n    if (lastNum >= 0.9)\r\n        return theme.palette.status.ok;\r\n    if (lastNum >= 0.5)\r\n        return theme.palette.status.warning;\r\n    return theme.palette.status.error;\r\n}\r\nconst Trendline = props => {\r\n    const theme = useTheme();\r\n    if (!props.data)\r\n        return null;\r\n    return (React.createElement(Sparklines, Object.assign({ width: 120, height: 30, min: 0, max: 1 }, props),\r\n        props.title && React.createElement(\"title\", null, props.title),\r\n        React.createElement(SparklinesLine, { color: color(props.data, theme) })));\r\n};\n\nfunction createRootElement(id) {\r\n    const rootContainer = document.createElement('div');\r\n    rootContainer.setAttribute('id', id);\r\n    return rootContainer;\r\n}\r\nfunction addRootElement(rootElem) {\r\n    document.body.insertBefore(rootElem, document.body.lastElementChild.nextElementSibling);\r\n}\r\nfunction usePortal(id) {\r\n    const rootElemRef = useRef(null);\r\n    useEffect(function setupElement() {\r\n        const existingParent = document.querySelector(`#${id}`);\r\n        const parentElem = existingParent || createRootElement(id);\r\n        if (!existingParent) {\r\n            addRootElement(parentElem);\r\n        }\r\n        parentElem.appendChild(rootElemRef.current);\r\n        return function removeElement() {\r\n            rootElemRef.current.remove();\r\n            if (parentElem.childNodes.length === -1) {\r\n                parentElem.remove();\r\n            }\r\n        };\r\n    }, []);\r\n    function getRootElem() {\r\n        if (!rootElemRef.current) {\r\n            rootElemRef.current = document.createElement('div');\r\n        }\r\n        return rootElemRef.current;\r\n    }\r\n    return getRootElem();\r\n}\n\nconst STATES_LOCAL_STORAGE_KEY = 'core.calloutSeen';\r\nfunction useCalloutStates() {\r\n    const [states, setStates] = useState(() => {\r\n        const raw = localStorage.getItem(STATES_LOCAL_STORAGE_KEY);\r\n        return raw ? JSON.parse(raw) : {};\r\n    });\r\n    const setState = useCallback((key, value) => {\r\n        const raw = localStorage.getItem(STATES_LOCAL_STORAGE_KEY);\r\n        const oldStates = raw ? JSON.parse(raw) : {};\r\n        const newStates = { ...oldStates, [key]: value };\r\n        setStates(newStates);\r\n        localStorage.setItem(STATES_LOCAL_STORAGE_KEY, JSON.stringify(newStates));\r\n    }, []);\r\n    return { states, setState };\r\n}\r\nfunction useCalloutHasBeenSeen(featureId) {\r\n    const { states, setState } = useCalloutStates();\r\n    const markSeen = useCallback(() => {\r\n        setState(featureId, true);\r\n    }, [featureId]);\r\n    return { seen: states[featureId] === true, markSeen };\r\n}\r\nfunction useShowCallout(featureId) {\r\n    const { seen, markSeen } = useCalloutHasBeenSeen(featureId);\r\n    return { show: seen === false, hide: markSeen };\r\n}\n\nconst useStyles$l = makeStyles({\r\n    '@keyframes pulsateSlightly': {\r\n        '0%': { transform: 'scale(1.0)' },\r\n        '100%': { transform: 'scale(1.1)' },\r\n    },\r\n    '@keyframes pulsateAndFade': {\r\n        '0%': { transform: 'scale(1.0)', opacity: 0.9 },\r\n        '100%': { transform: 'scale(1.5)', opacity: 0 },\r\n    },\r\n    featureWrapper: {\r\n        position: 'relative',\r\n    },\r\n    backdrop: {\r\n        zIndex: 2000,\r\n        position: 'fixed',\r\n        overflow: 'hidden',\r\n        left: 0,\r\n        right: 0,\r\n        top: 0,\r\n        bottom: 0,\r\n    },\r\n    dot: {\r\n        position: 'absolute',\r\n        backgroundColor: 'transparent',\r\n        borderRadius: '100%',\r\n        border: '1px solid rgba(103, 146, 180, 0.98)',\r\n        boxShadow: '0px 0px 0px 20000px rgba(0, 0, 0, 0.5)',\r\n        zIndex: 2001,\r\n        transformOrigin: 'center center',\r\n        animation: '$pulsateSlightly 1744ms 1.2s cubic-bezier(0.4, 0, 0.2, 1) alternate infinite',\r\n    },\r\n    pulseCircle: {\r\n        width: '100%',\r\n        height: '100%',\r\n        backgroundColor: 'transparent',\r\n        borderRadius: '100%',\r\n        border: '2px solid white',\r\n        zIndex: 2001,\r\n        transformOrigin: 'center center',\r\n        animation: '$pulsateAndFade 872ms 1.2s cubic-bezier(0.4, 0, 0.2, 1) infinite',\r\n    },\r\n    text: {\r\n        position: 'absolute',\r\n        color: 'white',\r\n        zIndex: 2003,\r\n    },\r\n});\r\nconst FeatureCalloutCircular = ({ featureId, title, description, children, }) => {\r\n    const { show, hide } = useShowCallout(featureId);\r\n    const portalElement = usePortal('core.callout');\r\n    const wrapperRef = useRef(null);\r\n    const [placement, setPlacement] = useState();\r\n    const classes = useStyles$l();\r\n    const update = useCallback(() => {\r\n        if (wrapperRef.current) {\r\n            const wrapperBounds = wrapperRef.current.getBoundingClientRect();\r\n            const longest = Math.max(wrapperBounds.width, wrapperBounds.height);\r\n            const borderWidth = 800;\r\n            const dotLeft = wrapperBounds.x - (longest - wrapperBounds.width) / 2 - borderWidth;\r\n            const dotTop = wrapperBounds.y - (longest - wrapperBounds.height) / 2 - borderWidth;\r\n            const dotSize = longest + 2 * borderWidth;\r\n            const textWidth = 450;\r\n            const textLeft = wrapperBounds.x + wrapperBounds.width / 2 - textWidth;\r\n            const textTop = wrapperBounds.y - (longest - wrapperBounds.height) / 2 + longest + 20;\r\n            setPlacement({\r\n                dotLeft,\r\n                dotTop,\r\n                dotSize,\r\n                borderWidth,\r\n                textTop,\r\n                textLeft,\r\n                textWidth,\r\n            });\r\n        }\r\n    }, []);\r\n    useEffect(() => {\r\n        window.addEventListener('resize', update);\r\n        window.addEventListener('scroll', update);\r\n        return () => {\r\n            window.removeEventListener('resize', update);\r\n            window.removeEventListener('scroll', update);\r\n        };\r\n    }, []);\r\n    useLayoutEffect(update, [wrapperRef.current]);\r\n    if (!show) {\r\n        return React.createElement(React.Fragment, null, children);\r\n    }\r\n    return (React.createElement(React.Fragment, null,\r\n        React.createElement(\"div\", { className: classes.featureWrapper, ref: wrapperRef }, children),\r\n        createPortal(React.createElement(\"div\", { className: classes.backdrop },\r\n            React.createElement(ClickAwayListener, { onClickAway: hide },\r\n                React.createElement(React.Fragment, null,\r\n                    React.createElement(\"div\", { className: classes.dot, style: {\r\n                            left: placement === null || placement === void 0 ? void 0 : placement.dotLeft,\r\n                            top: placement === null || placement === void 0 ? void 0 : placement.dotTop,\r\n                            width: placement === null || placement === void 0 ? void 0 : placement.dotSize,\r\n                            height: placement === null || placement === void 0 ? void 0 : placement.dotSize,\r\n                            borderWidth: placement === null || placement === void 0 ? void 0 : placement.borderWidth,\r\n                        }, onClick: hide, onKeyDown: hide, role: \"button\", tabIndex: 0 },\r\n                        React.createElement(\"div\", { className: classes.pulseCircle })),\r\n                    React.createElement(\"div\", { className: classes.text, style: {\r\n                            left: placement === null || placement === void 0 ? void 0 : placement.textLeft,\r\n                            top: placement === null || placement === void 0 ? void 0 : placement.textTop,\r\n                            width: placement === null || placement === void 0 ? void 0 : placement.textWidth,\r\n                        } },\r\n                        React.createElement(Typography, { variant: \"h2\", paragraph: true }, title),\r\n                        React.createElement(Typography, null, description))))), portalElement)));\r\n};\n\nconst useStyles$m = makeStyles((theme) => ({\r\n    status: {\r\n        width: 12,\r\n        height: 12,\r\n        display: 'inline-block',\r\n        marginRight: 1,\r\n    },\r\n    ok: {\r\n        backgroundColor: theme.palette.status.ok,\r\n        borderRadius: '50%',\r\n    },\r\n    warning: {\r\n        backgroundColor: theme.palette.status.warning,\r\n    },\r\n    error: {\r\n        width: '0',\r\n        height: '0',\r\n        borderLeft: '7px solid transparent',\r\n        borderRight: '7px solid transparent',\r\n        borderBottom: `14px solid ${theme.palette.status.error}`,\r\n    },\r\n    pending: {\r\n        backgroundColor: theme.palette.status.pending,\r\n    },\r\n    running: {\r\n        animation: '$blink 0.8s step-start 0s infinite',\r\n        backgroundColor: theme.palette.status.running,\r\n    },\r\n    '@keyframes blink': {\r\n        '50%': {\r\n            backgroundColor: theme.palette.status.background,\r\n        },\r\n    },\r\n}));\r\nconst StatusOK = (props) => {\r\n    const classes = useStyles$m(props);\r\n    return (React.createElement(\"span\", Object.assign({ className: classNames(classes.status, classes.ok), \"aria-label\": \"Status OK\" }, props)));\r\n};\r\nconst StatusWarning = (props) => {\r\n    const classes = useStyles$m(props);\r\n    return (React.createElement(\"span\", Object.assign({ className: classNames(classes.status, classes.warning), \"aria-label\": \"Status warning\" }, props)));\r\n};\r\nconst StatusError = (props) => {\r\n    const classes = useStyles$m(props);\r\n    return (React.createElement(\"span\", Object.assign({ className: classNames(classes.status, classes.error), \"aria-label\": \"Status error\" }, props)));\r\n};\r\nconst StatusNA = (props) => (React.createElement(\"span\", Object.assign({ \"aria-label\": \"Status N/A\" }, props), \"N/A\"));\r\nconst StatusPending = (props) => {\r\n    const classes = useStyles$m(props);\r\n    return (React.createElement(\"span\", Object.assign({ className: classNames(classes.status, classes.pending), \"aria-label\": \"Status pending\" }, props)));\r\n};\r\nconst StatusRunning = (props) => {\r\n    const classes = useStyles$m(props);\r\n    return (React.createElement(\"span\", Object.assign({ className: classNames(classes.status, classes.running), \"aria-label\": \"Status running\" }, props)));\r\n};\r\nconst StatusFailed = (props) => {\r\n    const classes = useStyles$m(props);\r\n    return (React.createElement(\"span\", Object.assign({ className: classNames(classes.status, classes.error), \"aria-label\": \"Status failed\" }, props)));\r\n};\n\nconst useErrorOutlineStyles = makeStyles(theme => ({\r\n    root: {\r\n        marginRight: theme.spacing(1),\r\n        fill: theme.palette.warningText,\r\n    },\r\n}));\r\nconst ErrorOutlineStyled = () => {\r\n    const classes = useErrorOutlineStyles();\r\n    return React.createElement(ErrorOutline, { classes: classes });\r\n};\r\nconst useStyles$n = makeStyles(theme => ({\r\n    message: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        padding: theme.spacing(1.5),\r\n        backgroundColor: theme.palette.warningBackground,\r\n        color: theme.palette.warningText,\r\n        verticalAlign: 'middle',\r\n    },\r\n    header: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        marginBottom: theme.spacing(1),\r\n    },\r\n    headerText: {\r\n        color: theme.palette.warningText,\r\n    },\r\n    messageText: {\r\n        color: theme.palette.warningText,\r\n    },\r\n}));\r\nconst WarningPanel = props => {\r\n    const classes = useStyles$n(props);\r\n    const { title, message, children } = props;\r\n    return (React.createElement(\"div\", { className: classes.message },\r\n        React.createElement(\"div\", { className: classes.header },\r\n            React.createElement(ErrorOutlineStyled, null),\r\n            React.createElement(Typography, { className: classes.headerText, variant: \"subtitle1\" }, title)),\r\n        message && (React.createElement(Typography, { className: classes.messageText }, message)),\r\n        children));\r\n};\n\nexport { AlertApiForwarder, AlphaLabel, ApiProvider, ApiRef, ApiRegistry, ApiTestRegistry, BetaLabel, CardTab, CircleProgress, Content, ContentHeader, CopyTextButton, ErrorApiForwarder, ErrorBoundary, FeatureCalloutCircular, FeatureFlagState, FeatureFlags, Header, HeaderLabel, HorizontalProgress, HorizontalScrollGrid, InfoCard, Page, Progress, ProgressCard, Sidebar, SidebarContext, SidebarDivider, SidebarItem, SidebarPage, SidebarSpace, SidebarSpacer, Stepper as SimpleStepper, Step as SimpleStepperStep, SortableTable, StatusError, StatusFailed, StatusNA, StatusOK, StatusPending, StatusRunning, StatusWarning, StructuredMetadataTable, SupportButton, TabbedCard, Trendline as TrendLine, WarningPanel, alertApiRef, createApiFactory, createApiRef, createApp, createPlugin, errorApiRef, featureFlagsApiRef, gradients, pageTheme, sidebarConfig, useApi, useApp };\n","/*\n * Copyright 2020 Spotify AB\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useState, useEffect } from 'react';\nexport type ThemeContextType = {\n  theme: string;\n  toggleTheme: () => void;\n};\nexport const ThemeContext = React.createContext<ThemeContextType>({\n  theme: 'light',\n  toggleTheme: () => {},\n});\n\nexport function useThemeType(themeId: string): [string, () => void] {\n  const [theme, setTheme] = useState(themeId);\n  useEffect(() => {\n    if (!window.matchMedia) {\n      return () => {};\n    }\n    const mql = window.matchMedia('(prefers-color-scheme: dark)');\n    const darkListener = (event: MediaQueryListEvent) => {\n      if (localStorage.getItem('theme') === 'auto') {\n        if (event.matches) {\n          setTheme('dark');\n        } else {\n          setTheme('light');\n        }\n        setTheme('auto');\n      }\n    };\n    mql.addListener(darkListener);\n    return () => {\n      mql.removeListener(darkListener);\n    };\n  });\n  function toggleTheme() {\n    if (theme === 'light') {\n      setTheme('dark');\n      localStorage.setItem('theme', 'dark');\n    } else if (theme === 'dark') {\n      if (!window.matchMedia) {\n        setTheme('light');\n        localStorage.setItem('theme', 'light');\n        setTheme('light');\n        return;\n      }\n      setTheme('auto');\n      localStorage.setItem('theme', 'auto');\n      setTheme('auto');\n    } else {\n      setTheme('light');\n      localStorage.setItem('theme', 'light');\n    }\n  }\n  return [theme, toggleTheme];\n}\n","/*\n * Copyright 2020 Spotify AB\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { FC } from 'react';\nimport { SidebarItem } from '@backstage/core';\nimport { ThemeContext } from '../../ThemeContext';\nimport WbSunnyIcon from '@material-ui/icons/WbSunny';\nimport Brightness2Icon from '@material-ui/icons/Brightness2';\nimport ToggleOnIcon from '@material-ui/icons/ToggleOn';\nconst ToggleThemeSidebarItem: FC<{}> = () => {\n  return (\n    <ThemeContext.Consumer>\n      {themeContext => {\n        let text = 'Auto';\n        let icon = ToggleOnIcon;\n        switch (themeContext.theme) {\n          case 'dark':\n            text = 'Dark mode';\n            icon = Brightness2Icon;\n            break;\n          case 'light':\n            text = 'Light mode';\n            icon = WbSunnyIcon;\n            break;\n          default:\n            text = 'Auto';\n            icon = ToggleOnIcon;\n            break;\n        }\n\n        return (\n          <SidebarItem\n            text={text}\n            onClick={themeContext.toggleTheme}\n            icon={icon}\n          />\n        );\n      }}\n    </ThemeContext.Consumer>\n  );\n};\n\nexport default ToggleThemeSidebarItem;\n","/*\n * Copyright 2020 Spotify AB\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { FC, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, makeStyles, Typography } from '@material-ui/core';\nimport HomeIcon from '@material-ui/icons/Home';\nimport ExploreIcon from '@material-ui/icons/Explore';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport CreateComponentIcon from '@material-ui/icons/AddCircleOutline';\nimport AccountTreeIcon from '@material-ui/icons/AccountTree';\nimport {\n  Sidebar,\n  SidebarPage,\n  sidebarConfig,\n  SidebarContext,\n  SidebarItem,\n  SidebarSpacer,\n  SidebarDivider,\n  SidebarSpace,\n} from '@backstage/core';\nimport ToggleThemeSidebarItem from './ToggleThemeSidebarItem';\n\nconst useSidebarLogoStyles = makeStyles({\n  root: {\n    height: sidebarConfig.drawerWidthClosed,\n    display: 'flex',\n    flexFlow: 'row nowrap',\n    alignItems: 'center',\n  },\n  logoContainer: {\n    width: sidebarConfig.drawerWidthClosed,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginLeft: 22,\n    whiteSpace: 'nowrap',\n    color: '#fff',\n  },\n  titleDot: {\n    color: '#68c5b5',\n  },\n});\n\nconst SidebarLogo: FC<{}> = () => {\n  const classes = useSidebarLogoStyles();\n  const isOpen = useContext(SidebarContext);\n\n  return (\n    <div className={classes.root}>\n      <Link href=\"/\" underline=\"none\">\n        <Typography variant=\"h6\" color=\"inherit\" className={classes.title}>\n          {isOpen ? 'Backstage' : 'B'}\n          <span className={classes.titleDot}>.</span>\n        </Typography>\n      </Link>\n    </div>\n  );\n};\n\nconst Root: FC<{}> = ({ children }) => (\n  <SidebarPage>\n    <Sidebar>\n      <SidebarLogo />\n      <SidebarSpacer />\n      <SidebarDivider />\n      <SidebarItem icon={HomeIcon} to=\"/\" text=\"Home\" />\n      <SidebarItem icon={ExploreIcon} to=\"/explore\" text=\"Explore\" />\n      <SidebarItem icon={CreateComponentIcon} to=\"/create\" text=\"Create...\" />\n      <SidebarDivider />\n      <SidebarItem icon={AccountTreeIcon} to=\"/inventory\" text=\"Inventory\" />\n      <SidebarItem icon={AccountCircle} to=\"/login\" text=\"Login\" />\n      <SidebarDivider />\n      <SidebarSpace />\n      <ToggleThemeSidebarItem />\n    </Sidebar>\n    {children}\n  </SidebarPage>\n);\n\nRoot.propTypes = {\n  children: PropTypes.node,\n};\n\nexport default Root;\n","/*\n * Copyright 2020 Spotify AB\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { FC, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Snackbar, IconButton } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { Alert } from '@material-ui/lab';\nimport { AlertApiForwarder, AlertMessage } from '@backstage/core';\n\ntype Props = {\n  forwarder: AlertApiForwarder;\n};\n\n// TODO: improve on this and promote to a shared component for use by all apps.\nconst AlertDisplay: FC<Props> = ({ forwarder }) => {\n  const [messages, setMessages] = useState<Array<AlertMessage>>([]);\n\n  useEffect(() => {\n    return forwarder.subscribe((message: AlertMessage) =>\n      setMessages(msgs => msgs.concat(message)),\n    );\n  }, [forwarder]);\n\n  if (messages.length === 0) {\n    return null;\n  }\n\n  const [firstMessage] = messages;\n\n  const handleClose = () => {\n    setMessages(msgs => msgs.filter(msg => msg !== firstMessage));\n  };\n\n  return (\n    <Snackbar\n      open\n      message={firstMessage.message.toString()}\n      anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n    >\n      <Alert\n        action={\n          <IconButton\n            color=\"inherit\"\n            size=\"small\"\n            onClick={handleClose}\n            data-testid=\"error-button-close\"\n          >\n            <CloseIcon />\n          </IconButton>\n        }\n        severity={firstMessage.severity}\n      >\n        {firstMessage.message.toString()}\n      </Alert>\n    </Snackbar>\n  );\n};\n\nAlertDisplay.propTypes = {\n  forwarder: PropTypes.instanceOf(AlertApiForwarder).isRequired,\n};\n\nexport default AlertDisplay;\n","import { HeaderLabel, HorizontalScrollGrid, ProgressCard, Page, pageTheme, Header, Content, InfoCard, createPlugin } from '@backstage/core';\nimport React from 'react';\nimport { Typography, Grid, Link } from '@material-ui/core';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\n\nconst timeFormat = { hour: '2-digit', minute: '2-digit' };\r\nconst utcOptions = { timeZone: 'UTC', ...timeFormat };\r\nconst nycOptions = { timeZone: 'America/New_York', ...timeFormat };\r\nconst tyoOptions = { timeZone: 'Asia/Tokyo', ...timeFormat };\r\nconst stoOptions = { timeZone: 'Europe/Stockholm', ...timeFormat };\r\nconst defaultTimes = {\r\n    timeNY: '',\r\n    timeUTC: '',\r\n    timeTYO: '',\r\n    timeSTO: '',\r\n};\r\nfunction getTimes() {\r\n    const d = new Date();\r\n    const lang = window.navigator.language;\r\n    const timeNY = d.toLocaleTimeString(lang, nycOptions);\r\n    const timeUTC = d.toLocaleTimeString(lang, utcOptions);\r\n    const timeTYO = d.toLocaleTimeString(lang, tyoOptions);\r\n    const timeSTO = d.toLocaleTimeString(lang, stoOptions);\r\n    return { timeNY, timeUTC, timeTYO, timeSTO };\r\n}\r\nconst HomePageTimer = () => {\r\n    const [{ timeNY, timeUTC, timeTYO, timeSTO }, setTimes] = React.useState(defaultTimes);\r\n    React.useEffect(() => {\r\n        setTimes(getTimes());\r\n        const intervalId = setInterval(() => {\r\n            setTimes(getTimes());\r\n        }, 1000);\r\n        return () => {\r\n            clearInterval(intervalId);\r\n        };\r\n    }, []);\r\n    return (React.createElement(React.Fragment, null,\r\n        React.createElement(HeaderLabel, { label: \"NYC\", value: timeNY }),\r\n        React.createElement(HeaderLabel, { label: \"UTC\", value: timeUTC }),\r\n        React.createElement(HeaderLabel, { label: \"STO\", value: timeSTO }),\r\n        React.createElement(HeaderLabel, { label: \"TYO\", value: timeTYO })));\r\n};\n\nconst SquadTechHealth = () => {\r\n    return (React.createElement(React.Fragment, null,\r\n        React.createElement(Typography, { variant: \"h3\" }, \"Team Metrics\"),\r\n        React.createElement(HorizontalScrollGrid, { scrollStep: 400, scrollSpeed: 100 },\r\n            React.createElement(Grid, { item: true },\r\n                React.createElement(ProgressCard, { title: \"Test Certified\", progress: 0.23, deepLink: {\r\n                        link: '/some-url',\r\n                        title: 'About Test Certs',\r\n                    } })),\r\n            React.createElement(Grid, { item: true },\r\n                React.createElement(ProgressCard, { title: \"k8s Migration\", progress: 0.78, deepLink: {\r\n                        link: '/some-url',\r\n                        title: 'About k8s',\r\n                    } })))));\r\n};\n\nconst STATIC_DATA = [\r\n    { id: 'backstage', kind: 'service' },\r\n    { id: 'backstage-microsite', kind: 'website' },\r\n];\r\nconst HomePage = () => {\r\n    const data = STATIC_DATA.map(({ id, kind }) => {\r\n        return {\r\n            id,\r\n            entity: (React.createElement(Link, { href: `entity/${kind}/${id}` },\r\n                React.createElement(Typography, { color: \"primary\" }, id))),\r\n            kind: React.createElement(Typography, null, kind),\r\n        };\r\n    });\r\n    const profile = { givenName: 'Suzy' };\r\n    return (React.createElement(Page, { theme: pageTheme.home },\r\n        React.createElement(Header, { title: profile ? `Hello, ${profile.givenName}` : 'Hello', subtitle: \"Welcome to Backstage\" },\r\n            React.createElement(HomePageTimer, null)),\r\n        React.createElement(Content, null,\r\n            React.createElement(Grid, { container: true, direction: \"row\", spacing: 3 },\r\n                React.createElement(Grid, { item: true, xs: 6 },\r\n                    React.createElement(Typography, { variant: \"h3\" }, \"Things you own\"),\r\n                    React.createElement(InfoCard, null,\r\n                        React.createElement(TableContainer, null,\r\n                            React.createElement(Table, { size: \"small\", \"aria-label\": \"a dense table\" },\r\n                                React.createElement(TableHead, null,\r\n                                    React.createElement(TableRow, null,\r\n                                        React.createElement(TableCell, null, \"ID\"),\r\n                                        React.createElement(TableCell, null, \"Kind\"))),\r\n                                React.createElement(TableBody, null, data.map(d => (React.createElement(TableRow, { key: d.id },\r\n                                    React.createElement(TableCell, null, d.entity),\r\n                                    React.createElement(TableCell, null, d.kind))))))))),\r\n                React.createElement(Grid, { item: true, xs: 6 },\r\n                    React.createElement(SquadTechHealth, null))))));\r\n};\n\nconst plugin = createPlugin({\r\n    id: 'home-page',\r\n    register({ router }) {\r\n        router.registerRoute('/home', HomePage);\r\n    },\r\n});\n\nexport { plugin };\n","import { HeaderLabel, useApi, errorApiRef, featureFlagsApiRef, FeatureFlagState, Page, pageTheme, Header, Content, ContentHeader, SupportButton, InfoCard, createPlugin } from '@backstage/core';\nimport React from 'react';\nimport { Link as Link$1 } from 'react-router-dom';\nimport { Button, Grid, Typography, List, ListItem, ListItemText, Link } from '@material-ui/core';\n\nconst timeFormat = { hour: '2-digit', minute: '2-digit' };\r\nconst utcOptions = { timeZone: 'UTC', ...timeFormat };\r\nconst nycOptions = { timeZone: 'America/New_York', ...timeFormat };\r\nconst tyoOptions = { timeZone: 'Asia/Tokyo', ...timeFormat };\r\nconst stoOptions = { timeZone: 'Europe/Stockholm', ...timeFormat };\r\nconst defaultTimes = {\r\n    timeNY: '',\r\n    timeUTC: '',\r\n    timeTYO: '',\r\n    timeSTO: '',\r\n};\r\nfunction getTimes() {\r\n    const d = new Date();\r\n    const lang = window.navigator.language;\r\n    const timeNY = d.toLocaleTimeString(lang, nycOptions);\r\n    const timeUTC = d.toLocaleTimeString(lang, utcOptions);\r\n    const timeTYO = d.toLocaleTimeString(lang, tyoOptions);\r\n    const timeSTO = d.toLocaleTimeString(lang, stoOptions);\r\n    return { timeNY, timeUTC, timeTYO, timeSTO };\r\n}\r\nconst HomePageTimer = () => {\r\n    const [{ timeNY, timeUTC, timeTYO, timeSTO }, setTimes] = React.useState(defaultTimes);\r\n    React.useEffect(() => {\r\n        setTimes(getTimes());\r\n        const intervalId = setInterval(() => {\r\n            setTimes(getTimes());\r\n        }, 1000);\r\n        return () => {\r\n            clearInterval(intervalId);\r\n        };\r\n    }, []);\r\n    return (React.createElement(React.Fragment, null,\r\n        React.createElement(HeaderLabel, { label: \"NYC\", value: timeNY }),\r\n        React.createElement(HeaderLabel, { label: \"UTC\", value: timeUTC }),\r\n        React.createElement(HeaderLabel, { label: \"STO\", value: timeSTO }),\r\n        React.createElement(HeaderLabel, { label: \"TYO\", value: timeTYO })));\r\n};\n\nconst ErrorButton = () => {\r\n    const errorApi = useApi(errorApiRef);\r\n    const handleClick = () => {\r\n        errorApi.post(new Error('Oh no!'));\r\n    };\r\n    return (React.createElement(Button, { \"data-testid\": \"error-button\", variant: \"contained\", color: \"primary\", onClick: handleClick }, \"Trigger an error!\"));\r\n};\n\nconst ToggleFeatureFlagButton = () => {\r\n    const featureFlagsApi = useApi(featureFlagsApiRef);\r\n    const flags = featureFlagsApi.getFlags();\r\n    const flagState = flags.get('enable-welcome-box');\r\n    const handleClick = () => {\r\n        const newValue = flagState === FeatureFlagState.On\r\n            ? FeatureFlagState.Off\r\n            : FeatureFlagState.On;\r\n        flags.set('enable-welcome-box', newValue);\r\n        window.location.reload();\r\n    };\r\n    return (React.createElement(Button, { variant: \"contained\", color: \"secondary\", onClick: handleClick, \"data-testid\": \"button-switch-feature-flag-state\" }, flagState === FeatureFlagState.On\r\n        ? 'Disable \"enable-welcome-box\" feature flag'\r\n        : 'Enable \"enable-welcome-box\" feature flag'));\r\n};\n\nconst WelcomePage = () => {\r\n    return (React.createElement(Page, { theme: pageTheme.home },\r\n        React.createElement(Header, { title: `Welcome ${ 'to Backstage'}`, subtitle: \"Some quick intro and links.\" },\r\n            React.createElement(HomePageTimer, null)),\r\n        React.createElement(Content, null,\r\n            React.createElement(ContentHeader, { title: \"Getting Started\" },\r\n                React.createElement(SupportButton, null)),\r\n            React.createElement(Grid, { container: true },\r\n                React.createElement(Grid, { item: true, xs: 12, md: 6 },\r\n                    React.createElement(InfoCard, null,\r\n                        React.createElement(Typography, { variant: \"body1\", gutterBottom: true },\r\n                            \"You now have a running instance of Backstage!\",\r\n                            React.createElement(\"span\", { role: \"img\", \"aria-label\": \"confetti\" }, \"\\uD83C\\uDF89\"),\r\n                            \"Let's make sure you get the most out of this platform by walking you through the basics.\"),\r\n                        React.createElement(Typography, { variant: \"h6\", gutterBottom: true }, \"The Setup\"),\r\n                        React.createElement(Typography, { variant: \"body1\", paragraph: true }, \"Backstage is put together from three base concepts: the core, the app and the plugins.\"),\r\n                        React.createElement(List, null,\r\n                            React.createElement(ListItem, null,\r\n                                React.createElement(ListItemText, { primary: \"The core is responsible for base functionality.\" })),\r\n                            React.createElement(ListItem, null,\r\n                                React.createElement(ListItemText, { primary: \"The app provides the base UI and connects the plugins.\" })),\r\n                            React.createElement(ListItem, null,\r\n                                React.createElement(ListItemText, { primary: \"The plugins make Backstage useful for the end users with\\n                  specific views and functionality.\" }))),\r\n                        React.createElement(Typography, { variant: \"h6\", gutterBottom: true }, \"Try It Out\"),\r\n                        React.createElement(Typography, { variant: \"body1\", paragraph: true },\r\n                            \"We suggest you either check out the documentation for\",\r\n                            ' ',\r\n                            React.createElement(Link, { href: \"https://github.com/spotify/backstage/blob/master/docs/getting-started/create-a-plugin.md\" }, \"creating a plugin\"),\r\n                            ' ',\r\n                            \"or have a look in the code for the\",\r\n                            ' ',\r\n                            React.createElement(Link, { component: Link$1, to: \"/home\" }, \"Home Page\"),\r\n                            ' ',\r\n                            \"in the directory \\\"plugins/home-page/src\\\".\"))),\r\n                React.createElement(Grid, { item: true },\r\n                    React.createElement(InfoCard, null,\r\n                        React.createElement(Typography, { variant: \"h5\" }, \"Quick Links\"),\r\n                        React.createElement(List, null,\r\n                            React.createElement(ListItem, null,\r\n                                React.createElement(Link, { href: \"https://backstage.io\" }, \"backstage.io\")),\r\n                            React.createElement(ListItem, null,\r\n                                React.createElement(Link, { href: \"https://github.com/spotify/backstage/blob/master/docs/getting-started/create-a-plugin.md\" }, \"Create a plugin\"))))),\r\n                React.createElement(Grid, { item: true },\r\n                    React.createElement(InfoCard, { title: \"APIs\" },\r\n                        React.createElement(Typography, null, \"The button below is an example of how to consume APIs.\"),\r\n                        React.createElement(\"br\", null),\r\n                        React.createElement(ErrorButton, null),\r\n                        React.createElement(\"br\", null),\r\n                        React.createElement(\"br\", null),\r\n                        React.createElement(ToggleFeatureFlagButton, null)))))));\r\n};\n\nconst plugin = createPlugin({\r\n    id: 'welcome',\r\n    register({ router, featureFlags }) {\r\n        router.registerRoute('/', WelcomePage);\r\n        featureFlags.register('enable-welcome-box');\r\n    },\r\n});\n\nexport { plugin };\n","import { ApiRef, SupportButton, ContentHeader, InfoCard, StatusError, StatusOK, StatusPending, TrendLine, useApi, Progress, Page, pageTheme, Header, HeaderLabel, Content, errorApiRef, createPlugin } from '@backstage/core';\nimport React, { useState, useMemo, useEffect, useCallback } from 'react';\nimport { useLocalStorage, useInterval, useAsync } from 'react-use';\nimport { useLocation, useHistory, useParams, Link as Link$1 } from 'react-router-dom';\nimport { makeStyles, Grid, Button, Tabs, Tab, TableRow, TableCell, Link, TableContainer, Table, TableHead, TableBody, List, ListItem, ListItemIcon, ListItemText, TextField, MenuItem } from '@material-ui/core';\nimport Alert from '@material-ui/lab/Alert';\nimport Pagination from '@material-ui/lab/Pagination';\nimport Markdown from 'react-markdown';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { makeStyles as makeStyles$1 } from '@material-ui/core/styles';\n\nclass FetchError extends Error {\r\n    get name() {\r\n        return this.constructor.name;\r\n    }\r\n    static async forResponse(resp) {\r\n        return new FetchError(`Request failed with status code ${resp.status}.\\nReason: ${await resp.text()}`);\r\n    }\r\n}\r\nconst lighthouseApiRef = new ApiRef({\r\n    id: 'plugin.lighthouse.service',\r\n    description: 'Used by the Lighthouse plugin to make requests',\r\n});\r\nclass LighthouseRestApi {\r\n    constructor(url) {\r\n        this.url = url;\r\n    }\r\n    async fetch(input, init) {\r\n        const resp = await fetch(`${this.url}${input}`, init);\r\n        if (!resp.ok)\r\n            throw await FetchError.forResponse(resp);\r\n        return await resp.json();\r\n    }\r\n    async getWebsiteList({ limit, offset } = {}) {\r\n        const params = new URLSearchParams();\r\n        if (typeof limit === 'number')\r\n            params.append('limit', limit.toString());\r\n        if (typeof offset === 'number')\r\n            params.append('offset', offset.toString());\r\n        return await this.fetch(`/v1/websites?${params.toString()}`);\r\n    }\r\n    async getWebsiteForAuditId(auditId) {\r\n        return await this.fetch(`/v1/audits/${encodeURIComponent(auditId)}/website`);\r\n    }\r\n    async triggerAudit(payload) {\r\n        return await this.fetch('/v1/audits', {\r\n            method: 'POST',\r\n            body: JSON.stringify(payload),\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        });\r\n    }\r\n}\n\nfunction useQuery() {\r\n    return new URLSearchParams(useLocation().search);\r\n}\r\nfunction formatTime(timestamp) {\r\n    let date;\r\n    if (timestamp instanceof Date) {\r\n        date = timestamp;\r\n    }\r\n    else {\r\n        date = new Date(timestamp);\r\n    }\r\n    return date.toUTCString();\r\n}\r\nconst CATEGORIES = [\r\n    'accessibility',\r\n    'performance',\r\n    'seo',\r\n    'best-practices',\r\n];\r\nconst CATEGORY_LABELS = {\r\n    accessibility: 'Accessibility',\r\n    performance: 'Performance',\r\n    seo: 'SEO',\r\n    'best-practices': 'Best Practices',\r\n    pwa: 'Progressive Web App',\r\n};\r\nfunction buildSparklinesDataForItem(item) {\r\n    return item.audits\r\n        .filter((audit) => audit.status === 'COMPLETED')\r\n        .reduce((scores, audit) => {\r\n        Object.values(audit.categories).forEach(category => {\r\n            scores[category.id] = scores[category.id] || [];\r\n            scores[category.id].unshift(category.score);\r\n        });\r\n        Object.values(scores).forEach(arr => {\r\n            if (arr.length === 1)\r\n                arr.push(arr[0]);\r\n        });\r\n        return scores;\r\n    }, {});\r\n}\n\nfunction LighthouseSupportButton() {\r\n    return (React.createElement(SupportButton, null, \"Lighthouse audits run for any web domain, stored over time.\"));\r\n}\n\nconst LIGHTHOUSE_INTRO_LOCAL_STORAGE = '@backstage/lighthouse-plugin/intro-dismissed';\r\nconst USE_CASES = `\nGoogle's [Lighthouse](https://developers.google.com/web/tools/lighthouse) auditing tool for websites\nis a great open-source resource forbenchmarking and improving the accessibility, performance, SEO, and best practices of your site.\nAt Spotify, we keep track of Lighthouse audit scores over time to look at trends and overall areas for investment.\n\nThis plugin allows you to generate on-demand Lighthouse audits for websites, and to track the trends for the\ntop-level categories of Lighthouse at a glance.\n\nIn the future, we hope to add support for scheduling audits (which we do internally), as well as allowing\ncustom runs of Lighthouse to be ingested (for auditing sites that require authentication or some session state).\n`;\r\nconst SETUP = `\nTo get started, you will need a running instance of [lighthouse-audit-service](https://github.com/spotify/lighthouse-audit-service).\n_It's likely you will need to enable CORS when running lighthouse-audit-service. Initialize the app\nwith the environment variable \\`LAS_CORS\\` set to \\`true\\`._\n\nWhen you have an instance running that Backstage can hook into, make sure to export the plugin in\nyour app's [\\`plugins.ts\\`](https://github.com/spotify/backstage/blob/master/packages/app/src/plugins.ts)\nto enable the plugin:\n\n\\`\\`\\`js\nimport { default as LighthousePlugin } from '@backstage/plugin-lighthouse';\nexport LighthousePlugin;\n\\`\\`\\`\n\nThen, you need to use the \\`lighthouseApiRef\\` exported from the plugin to initialize the Rest API in\nyour [\\`apis.ts\\`](https://github.com/spotify/backstage/blob/master/packages/app/src/apis.ts).\n\n\\`\\`\\`js\nimport { ApiHolder, ApiRegistry } from '@backstage/core';\nimport {\n  lighthouseApiRef,\n  LighthouseRestApi,\n} from '@backstage/plugin-lighthouse';\n\nconst builder = ApiRegistry.builder();\n\nexport const lighthouseApi =\n  new LighthouseRestApi(/* your service url here! */);\nbuilder.add(lighthouseApiRef, lighthouseApi);\n\nexport default builder.build() as ApiHolder;\n\\`\\`\\`\n`;\r\nconst useStyles = makeStyles(theme => ({\r\n    tabs: { marginBottom: -18 },\r\n    tab: { minWidth: 72, paddingLeft: 1, paddingRight: 1 },\r\n    content: { marginBottom: theme.spacing(2) },\r\n    closeButtonContainer: { height: '100%' },\r\n    closeButtonItem: { paddingBottom: 0 },\r\n}));\r\nfunction GettingStartedCard() {\r\n    const classes = useStyles();\r\n    const [value, setValue] = useState(0);\r\n    return (React.createElement(InfoCard, { title: \"Get started\", subheader: React.createElement(Tabs, { value: value, indicatorColor: \"primary\", textColor: \"primary\", onChange: (_ev, newValue) => setValue(newValue), \"aria-label\": \"get started tabs\", className: classes.tabs },\r\n            React.createElement(Tab, { className: classes.tab, label: \"Use cases\" }),\r\n            React.createElement(Tab, { className: classes.tab, label: \"Setup\" })), divider: true, actions: React.createElement(React.Fragment, null,\r\n            React.createElement(Grid, { container: true, direction: \"row\", justify: \"flex-end\" },\r\n                React.createElement(Grid, { item: true },\r\n                    React.createElement(Button, { component: \"a\", href: \"https://github.com/spotify/lighthouse-audit-service\", size: \"small\", target: \"_blank\" }, \"Check out the README\")))) },\r\n        value === 0 && React.createElement(Markdown, { source: USE_CASES }),\r\n        value === 1 && React.createElement(Markdown, { source: SETUP })));\r\n}\r\nfunction LighthouseIntro({ onDismiss = () => { } }) {\r\n    const classes = useStyles();\r\n    const [dismissed, setDismissed] = useLocalStorage(LIGHTHOUSE_INTRO_LOCAL_STORAGE, false);\r\n    if (dismissed)\r\n        return null;\r\n    return (React.createElement(React.Fragment, null,\r\n        React.createElement(ContentHeader, { title: \"Welcome to Lighthouse in Backstage!\" },\r\n            React.createElement(LighthouseSupportButton, null)),\r\n        React.createElement(Grid, { className: classes.content, container: true, spacing: 3, direction: \"row\" },\r\n            React.createElement(Grid, { item: true, xs: 12, sm: 6, md: 4 },\r\n                React.createElement(GettingStartedCard, null)),\r\n            React.createElement(Grid, { item: true, xs: 12, sm: 6, md: 8 },\r\n                React.createElement(Grid, { container: true, justify: \"flex-end\", alignItems: \"flex-end\", className: classes.closeButtonContainer },\r\n                    React.createElement(Grid, { item: true, className: classes.closeButtonItem },\r\n                        React.createElement(Button, { variant: \"text\", onClick: () => {\r\n                                onDismiss();\r\n                                setDismissed(true);\r\n                            } },\r\n                            React.createElement(CloseIcon, null),\r\n                            \" Hide intro\")))))));\r\n}\n\nconst AuditStatusIcon = ({ audit }) => {\r\n    if (audit.status === 'FAILED')\r\n        return React.createElement(StatusError, null);\r\n    if (audit.status === 'COMPLETED')\r\n        return React.createElement(StatusOK, null);\r\n    return React.createElement(StatusPending, null);\r\n};\n\nconst useStyles$1 = makeStyles$1(theme => ({\r\n    table: {\r\n        minWidth: 650,\r\n    },\r\n    status: {\r\n        textTransform: 'capitalize',\r\n    },\r\n    link: {\r\n        paddingTop: theme.spacing(2),\r\n        paddingBottom: theme.spacing(2),\r\n        display: 'inline-block',\r\n    },\r\n    statusCell: { whiteSpace: 'nowrap' },\r\n    sparklinesCell: { minWidth: 120 },\r\n}));\r\nconst AuditRow = ({ website, categorySparkline }) => {\r\n    const classes = useStyles$1();\r\n    return (React.createElement(TableRow, { key: website.url },\r\n        React.createElement(TableCell, null,\r\n            React.createElement(Link, { className: classes.link, href: `/lighthouse/audit/${website.lastAudit.id}` }, website.url)),\r\n        CATEGORIES.map(category => (React.createElement(TableCell, { key: `${website.url}|${category}`, className: classes.sparklinesCell },\r\n            React.createElement(TrendLine, { title: `trendline for ${CATEGORY_LABELS[category]} category of ${website.url}`, data: categorySparkline[category] || [] })))),\r\n        React.createElement(TableCell, { className: classes.statusCell },\r\n            React.createElement(AuditStatusIcon, { audit: website.lastAudit }),\r\n            ' ',\r\n            React.createElement(\"span\", { className: classes.status }, website.lastAudit.status.toLowerCase())),\r\n        React.createElement(TableCell, null, formatTime(website.lastAudit.timeCreated))));\r\n};\n\nconst Audit = ({ website, categorySparkline }) => {\r\n    const lighthouseApi = useApi(lighthouseApiRef);\r\n    const [websiteState, setWebsiteState] = useState(website);\r\n    const [sparklineState, setSparklineState] = useState(categorySparkline);\r\n    const runRefresh = async () => {\r\n        const response = await lighthouseApi.getWebsiteForAuditId(websiteState.lastAudit.id);\r\n        const auditStatus = response.lastAudit.status;\r\n        if (auditStatus === 'COMPLETED' || auditStatus === 'FAILED') {\r\n            setSparklineState(buildSparklinesDataForItem(response));\r\n            setWebsiteState(response);\r\n        }\r\n    };\r\n    useInterval(runRefresh, (websiteState === null || websiteState === void 0 ? void 0 : websiteState.lastAudit.status) === 'RUNNING' ? 5000 : null);\r\n    return React.createElement(AuditRow, { website: websiteState, categorySparkline: sparklineState });\r\n};\n\nconst useStyles$2 = makeStyles$1(theme => ({\r\n    table: {\r\n        minWidth: 650,\r\n    },\r\n    status: {\r\n        textTransform: 'capitalize',\r\n    },\r\n    link: {\r\n        paddingTop: theme.spacing(2),\r\n        paddingBottom: theme.spacing(2),\r\n        display: 'inline-block',\r\n    },\r\n    statusCell: { whiteSpace: 'nowrap' },\r\n    sparklinesCell: { minWidth: 120 },\r\n}));\r\nconst AuditListTable = ({ items }) => {\r\n    const classes = useStyles$2();\r\n    const categorySparklines = useMemo(() => items.reduce((res, item) => ({\r\n        ...res,\r\n        [item.url]: buildSparklinesDataForItem(item),\r\n    }), {}), [items]);\r\n    return (React.createElement(TableContainer, null,\r\n        React.createElement(Table, { className: classes.table, size: \"small\", \"aria-label\": \"a dense table\" },\r\n            React.createElement(TableHead, null,\r\n                React.createElement(TableRow, null,\r\n                    React.createElement(TableCell, null, \"Website URL\"),\r\n                    CATEGORIES.map(category => (React.createElement(TableCell, { key: `${category}-label` }, CATEGORY_LABELS[category]))),\r\n                    React.createElement(TableCell, null, \"Last Report\"),\r\n                    React.createElement(TableCell, null, \"Last Audit Triggered\"))),\r\n            React.createElement(TableBody, null, items.map(website => (React.createElement(Audit, { key: website.url, website: website, categorySparkline: categorySparklines[website.url] })))))));\r\n};\n\nconst LIMIT = 10;\r\nconst AuditList = () => {\r\n    const [dismissedStored] = useLocalStorage(LIGHTHOUSE_INTRO_LOCAL_STORAGE);\r\n    const [dismissed, setDismissed] = useState(dismissedStored);\r\n    const query = useQuery();\r\n    const page = query.get('page')\r\n        ? parseInt(query.get('page'), 10) || 1\r\n        : 1;\r\n    const lighthouseApi = useApi(lighthouseApiRef);\r\n    const { value, loading, error } = useAsync(async () => await lighthouseApi.getWebsiteList({\r\n        limit: LIMIT,\r\n        offset: (page - 1) * LIMIT,\r\n    }), [page]);\r\n    const pageCount = useMemo(() => {\r\n        if ((value === null || value === void 0 ? void 0 : value.total) && (value === null || value === void 0 ? void 0 : value.limit))\r\n            return Math.ceil((value === null || value === void 0 ? void 0 : value.total) / (value === null || value === void 0 ? void 0 : value.limit));\r\n        return 0;\r\n    }, [value]);\r\n    const history = useHistory();\r\n    let content = null;\r\n    if (value) {\r\n        content = (React.createElement(React.Fragment, null,\r\n            React.createElement(AuditListTable, { items: (value === null || value === void 0 ? void 0 : value.items) || [] }),\r\n            pageCount > 1 && (React.createElement(Pagination, { page: page, count: pageCount, onChange: (_event, newPage) => {\r\n                    history.replace(`/lighthouse?page=${newPage}`);\r\n                } }))));\r\n    }\r\n    else if (loading) {\r\n        content = React.createElement(Progress, null);\r\n    }\r\n    else if (error) {\r\n        content = (React.createElement(Alert, { severity: \"error\", \"data-testid\": \"error-message\" }, error.message));\r\n    }\r\n    return (React.createElement(Page, { theme: pageTheme.tool },\r\n        React.createElement(Header, { title: \"Lighthouse\", subtitle: \"Website audits powered by Lighthouse\" },\r\n            React.createElement(HeaderLabel, { label: \"Owner\", value: \"Spotify\" }),\r\n            React.createElement(HeaderLabel, { label: \"Lifecycle\", value: \"Alpha\" })),\r\n        React.createElement(Content, null,\r\n            React.createElement(LighthouseIntro, { onDismiss: () => setDismissed(true) }),\r\n            React.createElement(ContentHeader, { title: \"Audits\", description: \"View all audits run for your website through Backstage here. Track the trend of your most recent audits.\" },\r\n                React.createElement(Button, { variant: \"contained\", color: \"primary\", href: \"/lighthouse/create-audit\" }, \"Create Audit\"),\r\n                dismissed && React.createElement(LighthouseSupportButton, null)),\r\n            React.createElement(Grid, { container: true, spacing: 3, direction: \"column\" },\r\n                React.createElement(Grid, { item: true },\r\n                    React.createElement(InfoCard, null, content))))));\r\n};\n\nconst useStyles$3 = makeStyles({\r\n    contentGrid: {\r\n        height: '100%',\r\n    },\r\n    iframe: {\r\n        border: '0',\r\n        width: '100%',\r\n        height: '100%',\r\n    },\r\n    errorOutput: { whiteSpace: 'pre' },\r\n});\r\nconst AuditLinkList = ({ audits = [], selectedId, }) => (React.createElement(List, { \"data-testid\": \"audit-sidebar\", component: \"nav\", \"aria-label\": \"lighthouse audit history\" }, audits.map(audit => (React.createElement(ListItem, { key: audit.id, selected: audit.id === selectedId, button: true, component: Link$1, replace: true, to: `/lighthouse/audit/${audit.id}` },\r\n    React.createElement(ListItemIcon, null,\r\n        React.createElement(AuditStatusIcon, { audit: audit })),\r\n    React.createElement(ListItemText, { primary: formatTime(audit.timeCreated) }))))));\r\nconst AuditView = ({ audit }) => {\r\n    const classes = useStyles$3();\r\n    const params = useParams();\r\n    const { url: lighthouseUrl } = useApi(lighthouseApiRef);\r\n    if ((audit === null || audit === void 0 ? void 0 : audit.status) === 'RUNNING')\r\n        return React.createElement(Progress, null);\r\n    if ((audit === null || audit === void 0 ? void 0 : audit.status) === 'FAILED')\r\n        return (React.createElement(Alert, { severity: \"error\" }, \"This audit failed when attempting to run after several retries. Check that your instance of lighthouse-audit-service can successfully connect to your website and try again.\"));\r\n    return (React.createElement(InfoCard, { variant: \"fullHeight\" },\r\n        React.createElement(\"iframe\", { className: classes.iframe, title: `Lighthouse audit${(audit === null || audit === void 0 ? void 0 : audit.url) ? ` for ${audit.url}` : ''}`, src: `${lighthouseUrl}/v1/audits/${encodeURIComponent(params.id)}` })));\r\n};\r\nconst ConnectedAuditView = () => {\r\n    const lighthouseApi = useApi(lighthouseApiRef);\r\n    const params = useParams();\r\n    const classes = useStyles$3();\r\n    const { loading, error, value: nextValue } = useAsync(async () => await lighthouseApi.getWebsiteForAuditId(params.id), [params.id]);\r\n    const [value, setValue] = useState();\r\n    useEffect(() => {\r\n        if (!!nextValue && nextValue.url !== (value === null || value === void 0 ? void 0 : value.url)) {\r\n            setValue(nextValue);\r\n        }\r\n    }, [value, nextValue, setValue]);\r\n    let content = null;\r\n    if (value) {\r\n        content = (React.createElement(Grid, { container: true, alignItems: \"stretch\", className: classes.contentGrid },\r\n            React.createElement(Grid, { item: true, xs: 3 },\r\n                React.createElement(AuditLinkList, { audits: value === null || value === void 0 ? void 0 : value.audits, selectedId: params.id })),\r\n            React.createElement(Grid, { item: true, xs: 9 },\r\n                React.createElement(AuditView, { audit: value === null || value === void 0 ? void 0 : value.audits.find(a => a.id === params.id) }))));\r\n    }\r\n    else if (loading) {\r\n        content = React.createElement(Progress, null);\r\n    }\r\n    else if (error) {\r\n        content = (React.createElement(Alert, { \"data-testid\": \"error-message\", severity: \"error\", className: classes.errorOutput }, error.message));\r\n    }\r\n    let createAuditButtonUrl = '/lighthouse/create-audit';\r\n    if (value === null || value === void 0 ? void 0 : value.url) {\r\n        createAuditButtonUrl += `?url=${encodeURIComponent(value.url)}`;\r\n    }\r\n    return (React.createElement(Page, { theme: pageTheme.tool },\r\n        React.createElement(Header, { title: \"Lighthouse\", subtitle: \"Website audits powered by Lighthouse\" },\r\n            React.createElement(HeaderLabel, { label: \"Owner\", value: \"Spotify\" }),\r\n            React.createElement(HeaderLabel, { label: \"Lifecycle\", value: \"Alpha\" })),\r\n        React.createElement(Content, { stretch: true },\r\n            React.createElement(ContentHeader, { title: (value === null || value === void 0 ? void 0 : value.url) || 'Audit', description: \"See a history of all Lighthouse audits for your website run through Backstage.\" },\r\n                React.createElement(Button, { variant: \"contained\", color: \"primary\", href: createAuditButtonUrl }, \"Create Audit\"),\r\n                React.createElement(LighthouseSupportButton, null)),\r\n            content)));\r\n};\n\nconst useStyles$4 = makeStyles(theme => ({\r\n    input: {\r\n        minWidth: 300,\r\n    },\r\n    buttonList: {\r\n        marginLeft: theme.spacing(-1),\r\n        marginRight: theme.spacing(-1),\r\n        '& > *': {\r\n            margin: theme.spacing(1),\r\n        },\r\n    },\r\n}));\r\nconst CreateAudit = () => {\r\n    const errorApi = useApi(errorApiRef);\r\n    const lighthouseApi = useApi(lighthouseApiRef);\r\n    const classes = useStyles$4();\r\n    const query = useQuery();\r\n    const history = useHistory();\r\n    const [submitting, setSubmitting] = useState(false);\r\n    const [url, setUrl] = useState(query.get('url') || '');\r\n    const [emulatedFormFactor, setEmulatedFormFactor] = useState('mobile');\r\n    const triggerAudit = useCallback(async () => {\r\n        setSubmitting(true);\r\n        try {\r\n            await lighthouseApi.triggerAudit({\r\n                url,\r\n                options: {\r\n                    lighthouseConfig: {\r\n                        settings: {\r\n                            emulatedFormFactor,\r\n                        },\r\n                    },\r\n                },\r\n            });\r\n            history.push('/lighthouse');\r\n        }\r\n        catch (err) {\r\n            errorApi.post(err);\r\n        }\r\n        finally {\r\n            setSubmitting(false);\r\n        }\r\n    }, [\r\n        url,\r\n        emulatedFormFactor,\r\n        lighthouseApi,\r\n        setSubmitting,\r\n        errorApi,\r\n        history,\r\n    ]);\r\n    return (React.createElement(Page, { theme: pageTheme.tool },\r\n        React.createElement(Header, { title: \"Lighthouse\", subtitle: \"Website audits powered by Lighthouse\" },\r\n            React.createElement(HeaderLabel, { label: \"Owner\", value: \"Spotify\" }),\r\n            React.createElement(HeaderLabel, { label: \"Lifecycle\", value: \"Alpha\" })),\r\n        React.createElement(Content, null,\r\n            React.createElement(ContentHeader, { title: \"Trigger a new audit\", description: \"Submitting this form will immediately trigger and store a new Lighthouse audit. Trigger audits to track your website's accessibility, performance, SEO, and best practices over time.\" },\r\n                React.createElement(LighthouseSupportButton, null)),\r\n            React.createElement(Grid, { container: true, direction: \"column\" },\r\n                React.createElement(Grid, { item: true, xs: 12, sm: 6 },\r\n                    React.createElement(InfoCard, null,\r\n                        React.createElement(\"form\", { onSubmit: ev => {\r\n                                ev.preventDefault();\r\n                                triggerAudit();\r\n                            } },\r\n                            React.createElement(List, null,\r\n                                React.createElement(ListItem, null,\r\n                                    React.createElement(TextField, { name: \"lighthouse-create-audit-url-tf\", className: classes.input, label: \"URL\", placeholder: \"https://spotify.com\", helperText: \"The target URL for Lighthouse to use.\", required: true, disabled: submitting, onChange: ev => setUrl(ev.target.value), value: url, inputProps: { 'aria-label': 'URL' } })),\r\n                                React.createElement(ListItem, null,\r\n                                    React.createElement(TextField, { name: \"lighthouse-create-audit-emulated-form-factor-tf\", className: classes.input, label: \"Emulated Form Factor\", helperText: \"Device to simulate when auditing\", select: true, required: true, disabled: submitting, onChange: ev => setEmulatedFormFactor(ev.target.value), value: emulatedFormFactor, inputProps: { 'aria-label': 'Emulated form factor' } },\r\n                                        React.createElement(MenuItem, { value: \"mobile\" }, \"Mobile\"),\r\n                                        React.createElement(MenuItem, { value: \"desktop\" }, \"Desktop\"))),\r\n                                React.createElement(ListItem, { className: classes.buttonList },\r\n                                    React.createElement(Button, { variant: \"outlined\", color: \"primary\", href: \"/lighthouse\", disabled: submitting }, \"Cancel\"),\r\n                                    React.createElement(Button, { variant: \"contained\", color: \"primary\", type: \"submit\", disabled: submitting }, \"Create Audit\"))))))))));\r\n};\n\nconst plugin = createPlugin({\r\n    id: 'lighthouse',\r\n    register({ router }) {\r\n        router.registerRoute('/lighthouse', AuditList);\r\n        router.registerRoute('/lighthouse/audit/:id', ConnectedAuditView);\r\n        router.registerRoute('/lighthouse/create-audit', CreateAudit);\r\n    },\r\n});\n\nexport { FetchError, LighthouseRestApi, lighthouseApiRef, plugin };\n","import { Page, pageTheme, Header, Content, InfoCard, createPlugin } from '@backstage/core';\nimport React from 'react';\nimport { Typography } from '@material-ui/core';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\n\nconst STATIC_DATA = [\r\n    { id: 'backstage-frontend', kind: 'website' },\r\n    { id: 'backstage-backend', kind: 'service' },\r\n    { id: 'backstage-microsite', kind: 'website' },\r\n];\r\nconst InventoryPage = () => {\r\n    return (React.createElement(Page, { theme: pageTheme.home },\r\n        React.createElement(Header, { title: \"Inventory\", subtitle: \"All your stuff\" }),\r\n        React.createElement(Content, null,\r\n            React.createElement(Typography, { variant: \"h3\" }, \"All of it\"),\r\n            React.createElement(InfoCard, null,\r\n                React.createElement(TableContainer, null,\r\n                    React.createElement(Table, { size: \"small\", \"aria-label\": \"a dense table\" },\r\n                        React.createElement(TableHead, null,\r\n                            React.createElement(TableRow, null,\r\n                                React.createElement(TableCell, null, \"ID\"),\r\n                                React.createElement(TableCell, null, \"Kind\"))),\r\n                        React.createElement(TableBody, null, STATIC_DATA.map(d => (React.createElement(TableRow, { key: d.id },\r\n                            React.createElement(TableCell, null, d.id),\r\n                            React.createElement(TableCell, null, d.kind)))))))))));\r\n};\n\nconst plugin = createPlugin({\r\n    id: 'inventory',\r\n    register({ router }) {\r\n        router.registerRoute('/inventory', InventoryPage);\r\n    },\r\n});\n\nexport { plugin };\n","import { Page, pageTheme, Header, AlphaLabel, Content, ContentHeader, InfoCard, createPlugin } from '@backstage/core';\nimport React from 'react';\nimport { Typography, Link } from '@material-ui/core';\n\nconst STATIC_DATA = [\r\n    {\r\n        id: 'react-ssr-template',\r\n        name: 'SSR React Website',\r\n        description: 'Next.js application skeleton for creating isomorphic web applications.',\r\n        ownerId: 'something',\r\n    },\r\n];\r\nconst ScaffolderPage = () => {\r\n    return (React.createElement(Page, { theme: pageTheme.home },\r\n        React.createElement(Header, { title: React.createElement(React.Fragment, null,\r\n                \"Create a new component \",\r\n                React.createElement(AlphaLabel, { isShorthand: true }),\r\n                ' '), subtitle: \"Create new software components using standard templates\" }),\r\n        React.createElement(Content, null,\r\n            React.createElement(ContentHeader, { title: \"Available templates\" }),\r\n            React.createElement(Typography, { variant: \"body2\", paragraph: true, style: { fontStyle: 'italic' } },\r\n                React.createElement(\"strong\", null, \"NOTE!\"),\r\n                \" This feature is WIP. You can follow progress\",\r\n                ' ',\r\n                React.createElement(Link, { href: \"https://github.com/spotify/backstage/milestone/11\" }, \"here\"),\r\n                \".\"),\r\n            React.createElement(\"div\", { style: { display: 'flex' } }, STATIC_DATA.map((item, ix) => {\r\n                return (React.createElement(InfoCard, { title: item.name, deepLink: { title: 'Create', link: '#' }, key: ix },\r\n                    React.createElement(Typography, { paragraph: true }, item.description)));\r\n            })))));\r\n};\n\nconst plugin = createPlugin({\r\n    id: 'scaffolder',\r\n    register({ router }) {\r\n        router.registerRoute('/create', ScaffolderPage);\r\n    },\r\n});\n\nexport { plugin };\n","import { ApiRef, useApi, errorApiRef, Page, pageTheme, Header, Content, Progress, createPlugin } from '@backstage/core';\nimport React, { useEffect, useState } from 'react';\nimport { withStyles, Grid } from '@material-ui/core';\nimport PropTypes from 'prop-types';\nimport { forceSimulation, forceCollide } from 'd3-force';\nimport color from 'color';\n\nconst RING = {\r\n    id: PropTypes.string.isRequired,\r\n    idx: PropTypes.number,\r\n    name: PropTypes.string.isRequired,\r\n    color: PropTypes.string.isRequired,\r\n};\r\nconst QUADRANT = {\r\n    id: PropTypes.string.isRequired,\r\n    idx: PropTypes.number,\r\n    name: PropTypes.string.isRequired,\r\n};\r\nconst ENTRY = {\r\n    id: PropTypes.string.isRequired,\r\n    idx: PropTypes.number,\r\n    quadrant: PropTypes.shape(QUADRANT).isRequired,\r\n    ring: PropTypes.shape(RING).isRequired,\r\n    title: PropTypes.string.isRequired,\r\n    url: PropTypes.string,\r\n    moved: PropTypes.number,\r\n};\r\nconst DECLARED_ENTRY = Object.assign({}, ENTRY, {\r\n    quadrant: PropTypes.string.isRequired,\r\n    ring: PropTypes.string.isRequired,\r\n});\n\nconst styles = {\r\n    ring: {\r\n        fill: 'none',\r\n        stroke: '#bbb',\r\n        strokeWidth: '1px',\r\n    },\r\n    axis: {\r\n        fill: 'none',\r\n        stroke: '#bbb',\r\n        strokeWidth: '1px',\r\n    },\r\n    text: {\r\n        pointerEvents: 'none',\r\n        userSelect: 'none',\r\n        fill: '#e5e5e5',\r\n        fontSize: '25px',\r\n        fontWeight: 800,\r\n    },\r\n};\r\nclass RadarGrid extends React.PureComponent {\r\n    render() {\r\n        const { radius, rings, classes } = this.props;\r\n        const makeRingNode = (ringRadius, ringIndex) => [\r\n            React.createElement(\"circle\", { key: `c${ringIndex}`, cx: 0, cy: 0, r: ringRadius, className: classes.ring }),\r\n            React.createElement(\"text\", { key: `t${ringIndex}`, y: -ringRadius + 42, textAnchor: \"middle\", className: classes.text }, rings[ringIndex].name),\r\n        ];\r\n        const axisNodes = [\r\n            React.createElement(\"line\", { key: \"x\", x1: 0, y1: -radius, x2: 0, y2: radius, className: classes.axis }),\r\n            React.createElement(\"line\", { key: \"y\", x1: -radius, y1: 0, x2: radius, y2: 0, className: classes.axis }),\r\n        ];\r\n        const ringNodes = rings.map(r => r.outerRadius).map(makeRingNode);\r\n        return axisNodes.concat(ringNodes);\r\n    }\r\n}\r\nRadarGrid.propTypes = {\r\n    radius: PropTypes.number.isRequired,\r\n    rings: PropTypes.arrayOf(PropTypes.shape(RING)).isRequired,\r\n    classes: PropTypes.object.isRequired,\r\n};\r\nvar RadarGrid$1 = withStyles(styles)(RadarGrid);\n\nconst styles$1 = {\r\n    text: {\r\n        pointerEvents: 'none',\r\n        userSelect: 'none',\r\n        fontSize: '9px',\r\n        fill: '#fff',\r\n        textAnchor: 'middle',\r\n    },\r\n    link: {\r\n        cursor: 'pointer',\r\n    },\r\n};\r\nclass RadarEntry extends React.PureComponent {\r\n    render() {\r\n        const { moved, color, url, number, x, y, onMouseEnter, onMouseLeave, onClick, classes, } = this.props;\r\n        const style = { fill: color };\r\n        let blip;\r\n        if (moved > 0) {\r\n            blip = React.createElement(\"path\", { d: \"M -11,5 11,5 0,-13 z\", style: style });\r\n        }\r\n        else if (moved < 0) {\r\n            blip = React.createElement(\"path\", { d: \"M -11,-5 11,-5 0,13 z\", style: style });\r\n        }\r\n        else {\r\n            blip = React.createElement(\"circle\", { r: 9, style: style });\r\n        }\r\n        if (url) {\r\n            blip = (React.createElement(\"a\", { href: url, className: classes.link }, blip));\r\n        }\r\n        return (React.createElement(\"g\", { transform: `translate(${x}, ${y})`, onMouseEnter: onMouseEnter, onMouseLeave: onMouseLeave, onClick: onClick },\r\n            blip,\r\n            React.createElement(\"text\", { y: 3, className: classes.text }, number)));\r\n    }\r\n}\r\nRadarEntry.propTypes = {\r\n    x: PropTypes.number.isRequired,\r\n    y: PropTypes.number.isRequired,\r\n    number: PropTypes.number.isRequired,\r\n    color: PropTypes.string.isRequired,\r\n    url: PropTypes.string,\r\n    moved: PropTypes.number,\r\n    onMouseEnter: PropTypes.func,\r\n    onMouseLeave: PropTypes.func,\r\n    onClick: PropTypes.func,\r\n    classes: PropTypes.object.isRequired,\r\n};\r\nvar RadarEntry$1 = withStyles(styles$1)(RadarEntry);\n\nconst styles$2 = {\r\n    bubble: {\r\n        pointerEvents: 'none',\r\n        userSelect: 'none',\r\n        opacity: 0,\r\n    },\r\n    visibleBubble: {\r\n        pointerEvents: 'none',\r\n        userSelect: 'none',\r\n        opacity: 0.8,\r\n    },\r\n    background: {\r\n        fill: '#333',\r\n    },\r\n    text: {\r\n        pointerEvents: 'none',\r\n        userSelect: 'none',\r\n        fontSize: '10px',\r\n        fill: '#fff',\r\n    },\r\n};\r\nclass RadarBubble extends React.PureComponent {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._setRect = rect => {\r\n            this.rect = rect;\r\n        };\r\n        this._setNode = node => {\r\n            this.node = node;\r\n        };\r\n        this._setText = text => {\r\n            this.text = text;\r\n        };\r\n        this._setPath = path => {\r\n            this.path = path;\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        this._updatePosition();\r\n    }\r\n    componentDidUpdate() {\r\n        this._updatePosition();\r\n    }\r\n    _updatePosition() {\r\n        if (this.text) {\r\n            const { x, y } = this.props;\r\n            const bbox = this.text.getBBox();\r\n            const marginX = 5;\r\n            const marginY = 4;\r\n            this.node.setAttribute('transform', `translate(${x - bbox.width / 2}, ${y - bbox.height - marginY})`);\r\n            this.rect.setAttribute('x', -marginX);\r\n            this.rect.setAttribute('y', -bbox.height);\r\n            this.rect.setAttribute('width', bbox.width + 2 * marginX);\r\n            this.rect.setAttribute('height', bbox.height + marginY);\r\n            this.path.setAttribute('transform', `translate(${bbox.width / 2 - marginX}, ${marginY - 1})`);\r\n        }\r\n    }\r\n    render() {\r\n        const { visible, text, classes } = this.props;\r\n        return (React.createElement(\"g\", { ref: this._setNode, x: 0, y: 0, className: visible ? classes.visibleBubble : classes.bubble },\r\n            React.createElement(\"rect\", { ref: this._setRect, rx: 4, ry: 4, className: classes.background }),\r\n            React.createElement(\"text\", { ref: this._setText, className: classes.text }, text),\r\n            React.createElement(\"path\", { ref: this._setPath, d: \"M 0,0 10,0 5,8 z\", className: classes.background })));\r\n    }\r\n}\r\nRadarBubble.propTypes = {\r\n    visible: PropTypes.bool.isRequired,\r\n    text: PropTypes.string.isRequired,\r\n    x: PropTypes.number.isRequired,\r\n    y: PropTypes.number.isRequired,\r\n    classes: PropTypes.object.isRequired,\r\n};\r\nvar RadarBubble$1 = withStyles(styles$2)(RadarBubble);\n\nconst styles$3 = {\r\n    text: {\r\n        pointerEvents: 'none',\r\n        userSelect: 'none',\r\n        fontSize: '10px',\r\n        fill: '#000',\r\n    },\r\n};\r\nclass RadarFooter extends React.PureComponent {\r\n    render() {\r\n        const { x, y, classes } = this.props;\r\n        return (React.createElement(\"text\", { transform: `translate(${x}, ${y})`, space: \"preserve\", className: classes.text }, '▲ moved up\\u00a0\\u00a0\\u00a0\\u00a0\\u00a0▼ moved down'));\r\n    }\r\n}\r\nRadarFooter.propTypes = {\r\n    x: PropTypes.number.isRequired,\r\n    y: PropTypes.number.isRequired,\r\n    classes: PropTypes.object.isRequired,\r\n};\r\nvar RadarFooter$1 = withStyles(styles$3)(RadarFooter);\n\nconst styles$4 = {\r\n    quadrant: {\r\n        height: '100%',\r\n        width: '100%',\r\n        overflow: 'hidden',\r\n        pointerEvents: 'none',\r\n    },\r\n    quadrantHeading: {\r\n        pointerEvents: 'none',\r\n        userSelect: 'none',\r\n        marginTop: 0,\r\n        marginBottom: 'calc(18px * 0.375)',\r\n        fontSize: '18px',\r\n    },\r\n    rings: {\r\n        columns: 3,\r\n    },\r\n    ring: {\r\n        breakInside: 'avoid-column',\r\n        pageBreakInside: 'avoid',\r\n        '-webkit-column-break-inside': 'avoid',\r\n        fontSize: '12px',\r\n    },\r\n    ringHeading: {\r\n        pointerEvents: 'none',\r\n        userSelect: 'none',\r\n        marginTop: 0,\r\n        marginBottom: 'calc(12px * 0.375)',\r\n        fontSize: '12px',\r\n        fontWeight: 800,\r\n    },\r\n    ringList: {\r\n        listStylePosition: 'inside',\r\n        marginTop: 0,\r\n        paddingLeft: 0,\r\n        fontVariantNumeric: 'proportional-nums',\r\n        '-moz-font-feature-settings': 'pnum',\r\n        '-webkit-font-feature-settings': 'pnum',\r\n        'font-feature-settings': 'pnum',\r\n    },\r\n    entry: {\r\n        pointerEvents: 'none',\r\n        userSelect: 'none',\r\n        fontSize: '11px',\r\n    },\r\n    entryLink: {\r\n        pointerEvents: 'none',\r\n    },\r\n};\r\nclass RadarLegend extends React.PureComponent {\r\n    static _renderQuadrant(segments, quadrant, rings, onEntryMouseEnter, onEntryMouseLeave, classes) {\r\n        return (React.createElement(\"foreignObject\", { key: quadrant.id, x: quadrant.legendX, y: quadrant.legendY, width: quadrant.legendWidth, height: quadrant.legendHeight },\r\n            React.createElement(\"div\", { className: classes.quadrant },\r\n                React.createElement(\"h2\", { className: classes.quadrantHeading }, quadrant.name),\r\n                React.createElement(\"div\", { className: classes.rings }, rings.map(ring => RadarLegend._renderRing(ring, RadarLegend._getSegment(segments, quadrant, ring), onEntryMouseEnter, onEntryMouseLeave, classes))))));\r\n    }\r\n    static _renderRing(ring, entries, onEntryMouseEnter, onEntryMouseLeave, classes) {\r\n        return (React.createElement(\"div\", { key: ring.id, className: classes.ring },\r\n            React.createElement(\"h3\", { className: classes.ringHeading }, ring.name),\r\n            entries.length === 0 ? (React.createElement(\"p\", null, \"(empty)\")) : (React.createElement(\"ol\", { className: classes.ringList }, entries.map(entry => {\r\n                let node = React.createElement(\"span\", { className: classes.entry }, entry.title);\r\n                if (entry.url) {\r\n                    node = (React.createElement(\"a\", { className: classes.entryLink, href: entry.url }, node));\r\n                }\r\n                return (React.createElement(\"li\", { key: entry.id, value: entry.idx + 1, onMouseEnter: onEntryMouseEnter && (() => onEntryMouseEnter(entry)), onMouseLeave: onEntryMouseEnter && (() => onEntryMouseLeave(entry)) }, node));\r\n            })))));\r\n    }\r\n    static _getSegment(segmented, quadrant, ring, ringOffset = 0) {\r\n        return (segmented[quadrant.idx] || {})[ring.idx + ringOffset] || [];\r\n    }\r\n    render() {\r\n        const { quadrants, rings, entries, onEntryMouseEnter, onEntryMouseLeave, classes, } = this.props;\r\n        const segments = {};\r\n        for (const entry of entries) {\r\n            const qidx = entry.quadrant.idx;\r\n            const ridx = entry.ring.idx;\r\n            const quadrantData = segments[qidx] || (segments[qidx] = {});\r\n            const ringData = quadrantData[ridx] || (quadrantData[ridx] = []);\r\n            ringData.push(entry);\r\n        }\r\n        return (React.createElement(\"g\", null, quadrants.map(quadrant => RadarLegend._renderQuadrant(segments, quadrant, rings, onEntryMouseEnter, onEntryMouseLeave, classes))));\r\n    }\r\n}\r\nRadarLegend.propTypes = {\r\n    quadrants: PropTypes.arrayOf(PropTypes.shape(QUADRANT))\r\n        .isRequired,\r\n    rings: PropTypes.arrayOf(PropTypes.shape(RING)).isRequired,\r\n    entries: PropTypes.arrayOf(PropTypes.shape(ENTRY)).isRequired,\r\n    onEntryMouseEnter: PropTypes.func,\r\n    onEntryMouseLeave: PropTypes.func,\r\n    classes: PropTypes.object.isRequired,\r\n};\r\nvar RadarLegend$1 = withStyles(styles$4)(RadarLegend);\n\nclass RadarPlot extends React.PureComponent {\r\n    render() {\r\n        const { width, height, radius, quadrants, rings, entries, activeEntry, onEntryMouseEnter, onEntryMouseLeave, } = this.props;\r\n        return (React.createElement(\"g\", null,\r\n            React.createElement(RadarLegend$1, { quadrants: quadrants, rings: rings, entries: entries, onEntryMouseEnter: onEntryMouseEnter && (entry => onEntryMouseEnter(entry)), onEntryMouseLeave: onEntryMouseLeave && (entry => onEntryMouseLeave(entry)) }),\r\n            React.createElement(\"g\", { transform: `translate(${width / 2}, ${height / 2})` },\r\n                React.createElement(RadarGrid$1, { radius: radius, rings: rings }),\r\n                React.createElement(RadarFooter$1, { x: -0.5 * width, y: 0.5 * height }),\r\n                entries.map(entry => (React.createElement(RadarEntry$1, { key: entry.id, x: entry.x, y: entry.y, color: entry.color, title: entry.title, number: entry.idx + 1, url: entry.url, moved: entry.moved, active: activeEntry && activeEntry.id === entry.id, onMouseEnter: onEntryMouseEnter && (() => onEntryMouseEnter(entry)), onMouseLeave: onEntryMouseLeave && (() => onEntryMouseLeave(entry)) }))),\r\n                React.createElement(RadarBubble$1, { visible: !!activeEntry, text: activeEntry ? activeEntry.title : '', x: activeEntry ? activeEntry.x : 0, y: activeEntry ? activeEntry.y : 0 }))));\r\n    }\r\n}\r\nRadarPlot.propTypes = {\r\n    width: PropTypes.number.isRequired,\r\n    height: PropTypes.number.isRequired,\r\n    radius: PropTypes.number.isRequired,\r\n    rings: PropTypes.arrayOf(PropTypes.shape(RING)).isRequired,\r\n    quadrants: PropTypes.arrayOf(PropTypes.shape(QUADRANT))\r\n        .isRequired,\r\n    entries: PropTypes.arrayOf(PropTypes.shape(ENTRY)).isRequired,\r\n    activeEntry: PropTypes.object,\r\n    onEntryMouseEnter: PropTypes.func,\r\n    onEntryMouseLeave: PropTypes.func,\r\n};\n\nclass Segment {\r\n    constructor(quadrant, ring, radius, nextSeed) {\r\n        this.nextSeed = nextSeed;\r\n        this.polarMin = {\r\n            t: quadrant.radialMin,\r\n            r: ring.innerRadius,\r\n        };\r\n        this.polarMax = {\r\n            t: quadrant.radialMax,\r\n            r: ring.outerRadius,\r\n        };\r\n        this.cartesianMin = {\r\n            x: 15 * quadrant.offsetX,\r\n            y: 15 * quadrant.offsetY,\r\n        };\r\n        this.cartesianMax = {\r\n            x: radius * quadrant.offsetX,\r\n            y: radius * quadrant.offsetY,\r\n        };\r\n    }\r\n    clipx(d) {\r\n        const c = boundedBox(d, this.cartesianMin, this.cartesianMax);\r\n        const p = boundedRing(polar(c), this.polarMin.r + 15, this.polarMax.r - 15);\r\n        d.x = cartesian(p).x;\r\n        return d.x;\r\n    }\r\n    clipy(d) {\r\n        const c = boundedBox(d, this.cartesianMin, this.cartesianMax);\r\n        const p = boundedRing(polar(c), this.polarMin.r + 15, this.polarMax.r - 15);\r\n        d.y = cartesian(p).y;\r\n        return d.y;\r\n    }\r\n    random() {\r\n        return cartesian({\r\n            t: this._randomBetween(this.polarMin.t, this.polarMax.t),\r\n            r: this._normalBetween(this.polarMin.r, this.polarMax.r),\r\n        });\r\n    }\r\n    _random() {\r\n        const x = Math.sin(this.nextSeed()) * 10000;\r\n        return x - Math.floor(x);\r\n    }\r\n    _randomBetween(min, max) {\r\n        return min + this._random() * (max - min);\r\n    }\r\n    _normalBetween(min, max) {\r\n        return min + (this._random() + this._random()) * 0.5 * (max - min);\r\n    }\r\n}\r\nfunction polar({ x, y }) {\r\n    return {\r\n        t: Math.atan2(y, x),\r\n        r: Math.sqrt(x * x + y * y),\r\n    };\r\n}\r\nfunction cartesian({ r, t }) {\r\n    return {\r\n        x: r * Math.cos(t),\r\n        y: r * Math.sin(t),\r\n    };\r\n}\r\nfunction boundedInterval(value, min, max) {\r\n    const low = Math.min(min, max);\r\n    const high = Math.max(min, max);\r\n    return Math.min(Math.max(value, low), high);\r\n}\r\nfunction boundedRing(polarValue, rMin, rMax) {\r\n    return {\r\n        t: polarValue.t,\r\n        r: boundedInterval(polarValue.r, rMin, rMax),\r\n    };\r\n}\r\nfunction boundedBox(point, min, max) {\r\n    return {\r\n        x: boundedInterval(point.x, min.x, max.x),\r\n        y: boundedInterval(point.y, min.y, max.y),\r\n    };\r\n}\n\nclass Radar extends React.Component {\r\n    static adjustQuadrants(quadrants, radius, width, height) {\r\n        const margin = 16;\r\n        const xStops = [\r\n            margin,\r\n            width / 2 - radius - margin,\r\n            width / 2 + radius + margin,\r\n            width - margin,\r\n        ];\r\n        const yStops = [margin, height / 2 - margin, height / 2, height - margin];\r\n        const legendParams = [\r\n            {\r\n                x: xStops[2],\r\n                y: yStops[2],\r\n                width: xStops[3] - xStops[2],\r\n                height: yStops[3] - yStops[2],\r\n            },\r\n            {\r\n                x: xStops[0],\r\n                y: yStops[2],\r\n                width: xStops[1] - xStops[0],\r\n                height: yStops[3] - yStops[2],\r\n            },\r\n            {\r\n                x: xStops[0],\r\n                y: yStops[0],\r\n                width: xStops[1] - xStops[0],\r\n                height: yStops[1] - yStops[0],\r\n            },\r\n            {\r\n                x: xStops[2],\r\n                y: yStops[0],\r\n                width: xStops[3] - xStops[2],\r\n                height: yStops[1] - yStops[0],\r\n            },\r\n        ];\r\n        quadrants.forEach((quadrant, idx) => {\r\n            const legendParam = legendParams[idx % 4];\r\n            quadrant.idx = idx;\r\n            quadrant.radialMin = (idx * Math.PI) / 2;\r\n            quadrant.radialMax = ((idx + 1) * Math.PI) / 2;\r\n            quadrant.offsetX = idx % 4 === 0 || idx % 4 === 3 ? 1 : -1;\r\n            quadrant.offsetY = idx % 4 === 0 || idx % 4 === 1 ? 1 : -1;\r\n            quadrant.legendX = legendParam.x;\r\n            quadrant.legendY = legendParam.y;\r\n            quadrant.legendWidth = legendParam.width;\r\n            quadrant.legendHeight = legendParam.height;\r\n        });\r\n    }\r\n    static adjustRings(rings, radius) {\r\n        rings.forEach((ring, idx) => {\r\n            ring.idx = idx;\r\n            ring.outerRadius = ((idx + 2) / (rings.length + 1)) * radius;\r\n            ring.innerRadius =\r\n                ((idx === 0 ? 0 : idx + 1) / (rings.length + 1)) * radius;\r\n        });\r\n    }\r\n    static adjustEntries(entries, activeEntry, quadrants, rings, radius) {\r\n        let seed = 42;\r\n        entries.forEach((entry, idx) => {\r\n            const quadrant = quadrants.find(q => {\r\n                const match = typeof entry.quadrant === 'object'\r\n                    ? entry.quadrant.id\r\n                    : entry.quadrant;\r\n                return q.id === match;\r\n            });\r\n            const ring = rings.find(r => {\r\n                const match = typeof entry.ring === 'object' ? entry.ring.id : entry.ring;\r\n                return r.id === match;\r\n            });\r\n            if (!quadrant) {\r\n                throw new Error(`Unknown quadrant ${entry.quadrant} for entry ${entry.id}!`);\r\n            }\r\n            if (!ring) {\r\n                throw new Error(`Unknown ring ${entry.ring} for entry ${entry.id}!`);\r\n            }\r\n            entry.idx = idx;\r\n            entry.quadrant = quadrant;\r\n            entry.ring = ring;\r\n            entry.segment = new Segment(quadrant, ring, radius, () => seed++);\r\n            const point = entry.segment.random();\r\n            entry.x = point.x;\r\n            entry.y = point.y;\r\n            entry.active = activeEntry ? entry.id === activeEntry.id : false;\r\n            entry.color = entry.active\r\n                ? entry.ring.color\r\n                : color(entry.ring.color)\r\n                    .desaturate(0.5)\r\n                    .lighten(0.1)\r\n                    .string();\r\n        });\r\n        const simulation = forceSimulation()\r\n            .nodes(entries)\r\n            .velocityDecay(0.19)\r\n            .force('collision', forceCollide()\r\n            .radius(12)\r\n            .strength(0.85))\r\n            .stop();\r\n        for (let i = 0, n = Math.ceil(Math.log(simulation.alphaMin()) /\r\n            Math.log(1 - simulation.alphaDecay())); i < n; ++i) {\r\n            simulation.tick();\r\n            for (const entry of entries) {\r\n                entry.x = entry.segment.clipx(entry);\r\n                entry.y = entry.segment.clipy(entry);\r\n            }\r\n        }\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { activeEntry: null };\r\n    }\r\n    _setActiveEntry(entry) {\r\n        this.setState({ activeEntry: entry });\r\n    }\r\n    _clearActiveEntry() {\r\n        this.setState({ activeEntry: null });\r\n    }\r\n    render() {\r\n        const { width, height, quadrants, rings, entries } = this.props;\r\n        const { activeEntry } = this.state;\r\n        const radius = Math.min(width, height) / 2;\r\n        Radar.adjustQuadrants(quadrants, radius, width, height);\r\n        Radar.adjustRings(rings, radius);\r\n        Radar.adjustEntries(entries, activeEntry, quadrants, rings, radius);\r\n        return (React.createElement(\"svg\", Object.assign({ ref: node => {\r\n                this.node = node;\r\n            }, width: width, height: height }, this.props.svgProps),\r\n            React.createElement(RadarPlot, { width: width, height: height, radius: radius, entries: entries, quadrants: quadrants, rings: rings, activeEntry: activeEntry, onEntryMouseEnter: entry => this._setActiveEntry(entry), onEntryMouseLeave: () => this._clearActiveEntry() })));\r\n    }\r\n}\r\nRadar.propTypes = {\r\n    width: PropTypes.number.isRequired,\r\n    height: PropTypes.number.isRequired,\r\n    quadrants: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n    rings: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n    entries: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n    svgProps: PropTypes.object,\r\n};\n\nconst techRadarApiRef = new ApiRef({\r\n    id: 'plugin.techradar',\r\n    description: 'Used by the Tech Radar to render the diagram',\r\n});\r\nclass TechRadar {\r\n    constructor(width, height, load, additionalOpts = {}) {\r\n        this.width = width;\r\n        this.height = height;\r\n        this.load = load;\r\n        this.additionalOpts = additionalOpts;\r\n        this.defaultAdditionalOpts = {\r\n            title: 'Tech Radar',\r\n            subtitle: 'Welcome to the Tech Radar!',\r\n        };\r\n        this.additionalOpts = { ...this.defaultAdditionalOpts, ...additionalOpts };\r\n    }\r\n}\n\nconst useTechRadarLoader = (techRadarApi) => {\r\n    const [state, setState] = useState({\r\n        loading: true,\r\n        error: undefined,\r\n        data: undefined,\r\n    });\r\n    useEffect(() => {\r\n        techRadarApi\r\n            .load()\r\n            .then((payload) => {\r\n            setState({ loading: false, error: undefined, data: payload });\r\n        })\r\n            .catch((err) => {\r\n            setState({\r\n                loading: false,\r\n                error: err,\r\n                data: undefined,\r\n            });\r\n        });\r\n    }, []);\r\n    return state;\r\n};\r\nconst RadarPage = () => {\r\n    const errorApi = useApi(errorApiRef);\r\n    const techRadarApi = useApi(techRadarApiRef);\r\n    const { loading, error, data } = useTechRadarLoader(techRadarApi);\r\n    useEffect(() => {\r\n        if (error) {\r\n            errorApi.post(error);\r\n        }\r\n    }, [error && error.message]);\r\n    return (React.createElement(Page, { theme: pageTheme.home },\r\n        React.createElement(Header, { title: techRadarApi.additionalOpts.title, subtitle: techRadarApi.additionalOpts.subtitle }),\r\n        React.createElement(Content, null,\r\n            React.createElement(Grid, { container: true, spacing: 3, direction: \"row\" },\r\n                React.createElement(Grid, { item: true, xs: 12, sm: 6, md: 4 },\r\n                    loading && React.createElement(Progress, null),\r\n                    !loading && !error && (React.createElement(Radar, { width: techRadarApi.width, height: techRadarApi.height, svgProps: techRadarApi.additionalOpts.svgProps, rings: data.rings, quadrants: data.quadrants, entries: data.entries })))))));\r\n};\n\nconst plugin = createPlugin({\r\n    id: 'tech-radar',\r\n    register({ router }) {\r\n        router.registerRoute('/tech-radar', RadarPage);\r\n    },\r\n});\n\nconst rings = new Array();\r\nrings.push({ id: 'use', name: 'USE', color: '#93c47d' });\r\nrings.push({ id: 'trial', name: 'TRIAL', color: '#93d2c2' });\r\nrings.push({ id: 'assess', name: 'ASSESS', color: '#fbdb84' });\r\nrings.push({ id: 'hold', name: 'HOLD', color: '#efafa9' });\r\nconst quadrants = new Array();\r\nquadrants.push({ id: 'infrastructure', name: 'Infrastructure' });\r\nquadrants.push({ id: 'frameworks', name: 'Frameworks' });\r\nquadrants.push({ id: 'languages', name: 'Languages' });\r\nquadrants.push({ id: 'process', name: 'Process' });\r\nconst entries = new Array();\r\nentries.push({\r\n    moved: 0,\r\n    ring: 'use',\r\n    url: '#',\r\n    key: 'javascript',\r\n    id: 'javascript',\r\n    title: 'JavaScript',\r\n    quadrant: 'languages',\r\n});\r\nentries.push({\r\n    moved: 0,\r\n    ring: 'use',\r\n    url: '#',\r\n    key: 'typescript',\r\n    id: 'typescript',\r\n    title: 'TypeScript',\r\n    quadrant: 'languages',\r\n});\r\nentries.push({\r\n    moved: 0,\r\n    ring: 'use',\r\n    url: '#',\r\n    key: 'webpack',\r\n    id: 'webpack',\r\n    title: 'Webpack',\r\n    quadrant: 'frameworks',\r\n});\r\nentries.push({\r\n    moved: 0,\r\n    ring: 'use',\r\n    url: '#',\r\n    key: 'react',\r\n    id: 'react',\r\n    title: 'React',\r\n    quadrant: 'frameworks',\r\n});\r\nentries.push({\r\n    moved: 0,\r\n    ring: 'use',\r\n    url: '#',\r\n    key: 'code-reviews',\r\n    id: 'code-reviews',\r\n    title: 'Code Reviews',\r\n    quadrant: 'process',\r\n});\r\nentries.push({\r\n    moved: 0,\r\n    url: '#',\r\n    key: 'mob-programming',\r\n    id: 'mob-programming',\r\n    title: 'Mob Programming',\r\n    quadrant: 'process',\r\n    ring: 'assess',\r\n});\r\nentries.push({\r\n    moved: 0,\r\n    ring: 'use',\r\n    url: '#',\r\n    key: 'github-actions',\r\n    id: 'github-actions',\r\n    title: 'GitHub Actions',\r\n    quadrant: 'infrastructure',\r\n});\r\nfunction loadSampleData() {\r\n    return Promise.resolve({\r\n        rings,\r\n        quadrants,\r\n        entries,\r\n    });\r\n}\n\nexport { TechRadar, loadSampleData, plugin, techRadarApiRef };\n","import { Page, pageTheme, Header, Content, ContentHeader, SupportButton, createPlugin } from '@backstage/core';\nimport React from 'react';\nimport { makeStyles, Card, CardMedia, CardContent, Typography, Chip, CardActions, Button } from '@material-ui/core';\nimport classNames from 'classnames';\n\nconst useStyles = makeStyles((theme) => ({\r\n    card: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n    },\r\n    cardActions: {\r\n        flexGrow: 1,\r\n        alignItems: 'flex-end',\r\n    },\r\n    media: {\r\n        height: 128,\r\n    },\r\n    mediaContain: {\r\n        backgroundSize: 'contain',\r\n    },\r\n    lifecycle: {\r\n        lineHeight: '0.8em',\r\n        color: 'white',\r\n    },\r\n    ga: {\r\n        backgroundColor: theme.palette.status.ok,\r\n    },\r\n    alpha: {\r\n        backgroundColor: theme.palette.status.error,\r\n    },\r\n    beta: {\r\n        backgroundColor: theme.palette.status.warning,\r\n    },\r\n    domains: {\r\n        position: 'relative',\r\n        top: theme.spacing(2),\r\n    },\r\n    spaceBetween: {\r\n        justifyContent: 'space-between',\r\n    },\r\n}));\r\nconst ExploreCard = ({ card, objectFit }) => {\r\n    const classes = useStyles();\r\n    const { title, description, url, image, lifecycle, newsTag, tags } = card;\r\n    return (React.createElement(Card, { key: title, className: classes.card },\r\n        React.createElement(CardMedia, { image: image, title: title, className: classNames(classes.media, {\r\n                [classes.mediaContain]: objectFit === 'contain',\r\n            }) }),\r\n        React.createElement(CardContent, null,\r\n            React.createElement(Typography, { gutterBottom: true, variant: \"h5\" },\r\n                title,\r\n                ' ',\r\n                lifecycle && lifecycle.toLowerCase() !== 'ga' && (React.createElement(Chip, { label: lifecycle, className: classNames(classes.lifecycle, classes[lifecycle.toLowerCase()]) }))),\r\n            React.createElement(Typography, { paragraph: true }, description || 'Description missing'),\r\n            tags && (React.createElement(\"div\", { className: classes.domains }, tags.map((item, idx) => (React.createElement(Chip, { key: idx, label: item })))))),\r\n        React.createElement(CardActions, { className: classNames(classes.cardActions, {\r\n                [classes.spaceBetween]: newsTag,\r\n            }) },\r\n            React.createElement(Button, { size: \"small\", color: \"primary\", href: url, disabled: !url }, \"Explore\"))));\r\n};\n\nconst useStyles$1 = makeStyles((theme) => ({\r\n    container: {\r\n        display: 'grid',\r\n        gridTemplateColumns: 'repeat(auto-fill, 296px)',\r\n        gridGap: theme.spacing(3),\r\n        marginBottom: theme.spacing(6),\r\n    },\r\n}));\r\nconst toolsCards = [\r\n    {\r\n        title: 'Lighthouse',\r\n        description: \"Google's Lighthouse tool is a great resource for benchmarking and improving the accessibility, performance, SEO, and best practices of your website.\",\r\n        url: '/lighthouse',\r\n        image: 'https://raw.githubusercontent.com/GoogleChrome/lighthouse/8b3d7f052b2e64dd857e741d7395647f487697e7/assets/lighthouse-logo.png',\r\n        tags: ['web', 'seo', 'accessibility', 'performance'],\r\n    },\r\n    {\r\n        title: 'Tech Radar',\r\n        description: 'Tech Radar is a list of technologies, complemented by an assessment result, called ring assignment.',\r\n        url: '/tech-radar',\r\n        image: 'https://storage.googleapis.com/wf-blogs-engineering-media/2018/09/fe13bb32-wf-tech-radar-hero-1024x597.png',\r\n        tags: ['standards', 'landscape'],\r\n    },\r\n    {\r\n        title: 'GraphiQL',\r\n        description: 'Integrates GraphiQL as a tool to browse GraphiQL endpoints inside Backstage.',\r\n        url: 'graphiql',\r\n        image: 'https://camo.githubusercontent.com/517398c3fbe0687d3d4dcbe05da82970b882e75a/68747470733a2f2f64337676366c703535716a6171632e636c6f756466726f6e742e6e65742f6974656d732f33413061324e314c3346324f304c3377326e316a2f477261706869514c382e706e673f582d436c6f75644170702d56697369746f722d49643d3433363432',\r\n        tags: ['graphql', 'dev'],\r\n    },\r\n];\r\nconst ExplorePluginPage = () => {\r\n    const classes = useStyles$1();\r\n    return (React.createElement(Page, { theme: pageTheme.home },\r\n        React.createElement(Header, { title: \"Explore\", subtitle: \"Tools and services available in Backstage\" }),\r\n        React.createElement(Content, null,\r\n            React.createElement(ContentHeader, { title: \"Tools\" },\r\n                React.createElement(SupportButton, null,\r\n                    React.createElement(Typography, null, \"Explore tools available in Backstage\"))),\r\n            React.createElement(\"div\", { className: classes.container }, toolsCards.map((card, ix) => (React.createElement(ExploreCard, { card: card, key: ix })))))));\r\n};\n\nconst plugin = createPlugin({\r\n    id: 'explore',\r\n    register({ router }) {\r\n        router.registerRoute('/explore', ExplorePluginPage);\r\n    },\r\n});\n\nexport { plugin };\n","import { Progress, Page, pageTheme, Header, HeaderLabel, Content, ContentHeader, SupportButton, InfoCard, createPlugin } from '@backstage/core';\nimport React from 'react';\nimport { Grid, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Alert from '@material-ui/lab/Alert';\nimport { get } from 'lodash';\nimport { ApolloProvider, useQuery } from '@apollo/react-hooks';\nimport { InMemoryCache } from 'apollo-cache-inmemory';\nimport { ApolloClient } from 'apollo-client';\nimport { HttpLink } from 'apollo-link-http';\nimport { gql } from 'apollo-boost';\n\nconst TEMP_API_GATEWAY = 'http://cdo-api.dev.msc.rokulabs.net/';\r\nconst cache = new InMemoryCache();\r\nconst link = new HttpLink({\r\n    uri: TEMP_API_GATEWAY,\r\n    fetch,\r\n});\r\nconst client = new ApolloClient({\r\n    cache,\r\n    link,\r\n    name: 'react-web-client',\r\n    version: '1.3',\r\n    queryDeduplication: false,\r\n    defaultOptions: {\r\n        watchQuery: {\r\n            fetchPolicy: 'cache-and-network',\r\n        },\r\n    },\r\n});\n\nconst useStyles = makeStyles({\r\n    table: {\r\n        minWidth: 650,\r\n    },\r\n    avatar: {\r\n        height: 32,\r\n        width: 32,\r\n        borderRadius: '50%',\r\n    },\r\n});\r\nconst DenseTable = ({ users }) => {\r\n    const classes = useStyles();\r\n    return (React.createElement(TableContainer, null,\r\n        React.createElement(Table, { className: classes.table, size: \"small\", \"aria-label\": \"a dense table\" },\r\n            React.createElement(TableHead, null,\r\n                React.createElement(TableRow, null,\r\n                    React.createElement(TableCell, null, \"Avatar\"),\r\n                    React.createElement(TableCell, null, \"Name\"),\r\n                    React.createElement(TableCell, null, \"Email\"),\r\n                    React.createElement(TableCell, null, \"Nationality\"))),\r\n            React.createElement(TableBody, null, users.map(user => (React.createElement(TableRow, { key: user.email },\r\n                React.createElement(TableCell, null,\r\n                    React.createElement(\"img\", { src: user.picture.medium, className: classes.avatar, alt: user.name.first })),\r\n                React.createElement(TableCell, null,\r\n                    user.name.first,\r\n                    \" \",\r\n                    user.name.last),\r\n                React.createElement(TableCell, null, user.email),\r\n                React.createElement(TableCell, null, user.nat))))))));\r\n};\r\nconst ExampleFetchComponent = () => {\r\n    const { data, loading, error } = useQuery(gql `\n      {\n        es_check {\n          ok\n        }\n      }\n    `);\r\n    const value = get(data, 'data.es_check.ok', false) ? [] : [];\r\n    if (loading) {\r\n        return React.createElement(Progress, null);\r\n    }\r\n    else if (error) {\r\n        return React.createElement(Alert, { severity: \"error\" }, error.message);\r\n    }\r\n    return React.createElement(DenseTable, { users: value || [] });\r\n};\r\nconst ApolloWrappedFetcher = () => {\r\n    return (React.createElement(ApolloProvider, { client: client },\r\n        React.createElement(ExampleFetchComponent, null)));\r\n};\n\nconst ExampleComponent = () => (React.createElement(Page, { theme: pageTheme.tool },\r\n    React.createElement(Header, { title: \"Welcome to services!\", subtitle: \"Optional subtitle\" },\r\n        React.createElement(HeaderLabel, { label: \"Owner\", value: \"Team X\" }),\r\n        React.createElement(HeaderLabel, { label: \"Lifecycle\", value: \"Alpha\" })),\r\n    React.createElement(Content, null,\r\n        React.createElement(ContentHeader, { title: \"Services\" },\r\n            React.createElement(SupportButton, null, \"A description of your plugin goes here.\")),\r\n        React.createElement(Grid, { container: true, spacing: 3, direction: \"column\" },\r\n            React.createElement(Grid, { item: true },\r\n                React.createElement(InfoCard, { title: \"Information card\" },\r\n                    React.createElement(Typography, { variant: \"body1\" }, \"All content should be wrapped in a card like this.\"))),\r\n            React.createElement(Grid, { item: true },\r\n                React.createElement(InfoCard, { title: \"Example User List (fetching data from randomuser.me)\" },\r\n                    React.createElement(ApolloWrappedFetcher, null)))))));\n\nconst plugin = createPlugin({\r\n    id: 'services',\r\n    register({ router }) {\r\n        router.registerRoute('/services', ExampleComponent);\r\n    },\r\n});\n\nexport { plugin };\n","/*\n * Copyright 2020 Spotify AB\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  ApiHolder,\n  ApiRegistry,\n  alertApiRef,\n  errorApiRef,\n  AlertApiForwarder,\n  ErrorApiForwarder,\n  featureFlagsApiRef,\n  FeatureFlags,\n} from '@backstage/core';\n\nimport {\n  lighthouseApiRef,\n  LighthouseRestApi,\n} from '@backstage/plugin-lighthouse';\n\nimport {\n  techRadarApiRef,\n  TechRadar,\n  loadSampleData,\n} from '@backstage/plugin-tech-radar';\n\nconst builder = ApiRegistry.builder();\n\nexport const alertApiForwarder = new AlertApiForwarder();\nbuilder.add(alertApiRef, alertApiForwarder);\n\nexport const errorApiForwarder = new ErrorApiForwarder(alertApiForwarder);\nbuilder.add(errorApiRef, errorApiForwarder);\n\nbuilder.add(featureFlagsApiRef, new FeatureFlags());\n\nbuilder.add(lighthouseApiRef, new LighthouseRestApi('http://localhost:3003'));\nbuilder.add(techRadarApiRef, new TechRadar(1800, 800, loadSampleData));\n\nexport default builder.build() as ApiHolder;\n","/*\n * Copyright 2020 Spotify AB\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CssBaseline, ThemeProvider } from '@material-ui/core';\n// import { lightTheme, darkTheme } from '@backstage/theme';\nimport {\n  rokuLightTheme as lightTheme,\n  rokuDarkTheme as darkTheme,\n} from '@backstage/theme';\nimport { createApp } from '@backstage/core';\nimport React, { FC } from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport Root from './components/Root';\nimport AlertDisplay from './components/AlertDisplay';\nimport * as plugins from './plugins';\nimport apis, { alertApiForwarder } from './apis';\nimport { ThemeContextType, ThemeContext, useThemeType } from './ThemeContext';\n\nconst app = createApp();\napp.registerApis(apis);\napp.registerPlugin(...Object.values(plugins));\nconst AppComponent = app.build();\n\nconst App: FC<{}> = () => {\n  const [theme, toggleTheme] = useThemeType(\n    localStorage.getItem('theme') || 'auto',\n  );\n\n  let backstageTheme = lightTheme;\n  switch (theme) {\n    case 'light':\n      backstageTheme = lightTheme;\n      break;\n    case 'dark':\n      backstageTheme = darkTheme;\n      break;\n    default:\n      if (!window.matchMedia) {\n        backstageTheme = darkTheme;\n        break;\n      }\n      backstageTheme = darkTheme;\n      // backstageTheme = window.matchMedia('(prefers-color-scheme: dark)').matches\n      //   ? darkTheme\n      //   : lightTheme;\n      break;\n  }\n\n  const themeContext: ThemeContextType = {\n    theme,\n    toggleTheme,\n  };\n  return (\n    <ThemeContext.Provider value={themeContext}>\n      <ThemeProvider theme={backstageTheme}>\n        <CssBaseline>\n          <AlertDisplay forwarder={alertApiForwarder} />\n          <Router>\n            <Root>\n              <AppComponent />\n            </Root>\n          </Router>\n        </CssBaseline>\n      </ThemeProvider>\n    </ThemeContext.Provider>\n  );\n};\n\nexport default App;\n","/*\n * Copyright 2020 Spotify AB\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}